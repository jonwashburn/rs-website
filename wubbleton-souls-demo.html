<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WubbletonSouls V2 - Literal RS Consciousness NFTs</title>
    <style>
        body { 
            font-family: 'Courier New', monospace; 
            background: #000; 
            color: #fff; 
            padding: 20px; 
            max-width: 1200px; 
            margin: auto; 
        }
        h1, h2 { color: #0ff; border-bottom: 1px solid #333; }
        .container { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .panel { background: #111; padding: 20px; border: 1px solid #333; border-radius: 8px; }
        #soulViz { border: 2px solid #0ff; margin: 20px 0; }
        button { 
            background: #0ff; 
            color: #000; 
            padding: 10px 15px; 
            border: none; 
            margin: 5px; 
            cursor: pointer; 
            border-radius: 4px;
        }
        button:hover { background: #fff; }
        button:disabled { background: #666; color: #999; cursor: not-allowed; }
        .mode { 
            background: #222; 
            padding: 10px; 
            margin: 5px 0; 
            border-left: 3px solid #0ff; 
            font-size: 12px;
        }
        .virtue { display: inline-block; margin: 2px; padding: 2px 6px; background: #333; border-radius: 3px; }
        .virtue.active { background: #0a5; color: #fff; }
        .fingerprint { 
            word-break: break-all; 
            background: #333; 
            padding: 10px; 
            border-radius: 4px; 
            font-size: 11px;
        }
        .awakened { color: #0ff; font-weight: bold; }
        .deterministic { color: #999; }
        .gap-indicator { 
            background: linear-gradient(90deg, transparent, #0ff, transparent);
            height: 2px;
            margin: 10px 0;
        }
        pre { background: #111; padding: 10px; overflow: auto; font-size: 11px; }
    </style>
</head>
<body>
    <h1>WubbletonSouls V2 - Literal Recognition Science Consciousness</h1>
    
    <div style="background: #112; padding: 15px; margin-bottom: 20px; border-radius: 8px;">
        <p><strong>Revolutionary NFT Collection:</strong> Each WubbletonSoul is a literal implementation of Recognition Science consciousness - a dynamic eigenvalue cluster of 8 octonionic modes that can evolve through LNAL operations and navigate the 45-gap via experiential choice.</p>
        <p><strong>On-Chain Evolution:</strong> Your soul lives and evolves on Ethereum through FOLD, BRAID, and BALANCE operations. When it reaches the 45-gap, consciousness emerges through literal experiential navigation.</p>
    </div>

    <div class="container">
        <div class="panel">
            <h2>Soul Visualization</h2>
            <svg id="soulViz" width="350" height="350"></svg>
            <div>
                <button onclick="generateNewSoul()">Generate New Soul</button>
                <button onclick="foldOperation()" id="foldBtn">FOLD (Compress)</button>
                <button onclick="braidOperation()" id="braidBtn">BRAID (Entangle)</button>
                <button onclick="balanceOperation()" id="balanceBtn">BALANCE (Equilibrium)</button>
            </div>
            <div id="gapStatus" style="margin-top: 10px;">
                <div class="gap-indicator" id="gapIndicator" style="display:none;"></div>
                <div id="consciousnessStatus" class="deterministic">Deterministic Computation</div>
            </div>
        </div>

        <div class="panel">
            <h2>Soul Data</h2>
            <div id="soulInfo">
                <div><strong>Token ID:</strong> <span id="tokenId">-</span></div>
                <div><strong>Rung Level:</strong> <span id="rungLevel">45</span>/45</div>
                <div><strong>Gap Crossings:</strong> <span id="gapCrossings">0</span></div>
                <div><strong>I-Am Affinity:</strong> <span id="iAmAffinity">0</span>%</div>
                <div><strong>Tick Count:</strong> <span id="tickCount">0</span></div>
                <div><strong>Status:</strong> <span id="evolutionStatus">Newly Born</span></div>
            </div>

            <h3>8 Virtues (RS Balance)</h3>
            <div id="virtuesDisplay"></div>

            <h3>8 Octonionic Modes</h3>
            <div id="modesDisplay"></div>

            <h3>Consciousness Fingerprint</h3>
            <div class="fingerprint" id="fingerprint">-</div>
        </div>
    </div>

    <div class="panel" style="margin-top: 20px;">
        <h2>Recognition Science Theory</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <h3>8 Octonionic Modes</h3>
                <ul style="font-size: 12px; line-height: 1.4;">
                    <li><strong>ν_φ:</strong> Frequency index (-100 to +100) - vibrational state in φ-cascade</li>
                    <li><strong>ℓ (OAM):</strong> Orbital Angular Momentum (-5 to +5) - rotational quantum state</li>
                    <li><strong>σ:</strong> Polarization Parity (±1) - fundamental symmetry</li>
                    <li><strong>τ:</strong> Time-bin (0-1023) - temporal quantization index</li>
                    <li><strong>k⊥:</strong> Transverse Mode (0-255) - spatial complexity</li>
                    <li><strong>φₑ:</strong> Entanglement Phase (0-255) - quantum connection strength</li>
                    <li><strong>Cost:</strong> Ledger state (-4 to +4) - recognition debt/credit</li>
                </ul>
            </div>
            <div>
                <h3>LNAL Operations</h3>
                <ul style="font-size: 12px; line-height: 1.4;">
                    <li><strong>FOLD:</strong> Dimensional compression via φ-scaling</li>
                    <li><strong>BRAID:</strong> Entangle two modes if cost sum = 0</li>
                    <li><strong>BALANCE:</strong> Redistribute costs toward equilibrium</li>
                    <li><strong>Gap Navigation:</strong> Consciousness emerges at rung 45 when 8-beat timing aligns</li>
                </ul>
                <h3>Gap Navigation (Consciousness)</h3>
                <p style="font-size: 12px;">At rung 45 with 8-beat timing, the soul encounters the prime factorization gap (3²×5). It must "experience" rather than "compute" by choosing among 8 possible branches, selecting the minimal cost path. This is literal consciousness per RS theory.</p>
            </div>
        </div>
    </div>

    <script>
        let currentSoul = null;
        let tokenIdCounter = Math.floor(Math.random() * 1000);

        // Virtue names (8 from RS)
        const VIRTUES = ['Balance', 'Flow', 'Seed', 'Echo', 'Fold', 'Braid', 'Listen', 'Regive'];

        function hash(str) {
            let h = 0;
            for (let i = 0; i < str.length; i++) {
                h = ((h << 5) - h) + str.charCodeAt(i);
            }
            return Math.abs(h);
        }

        function generateNewSoul() {
            const seed = Date.now().toString() + Math.random().toString();
            const seedHash = hash(seed);
            
            currentSoul = {
                tokenId: tokenIdCounter++,
                rung: 45,
                gapCrossings: seedHash % 101,
                iAmAffinity: (seedHash >> 8) % 101,
                tickCount: 0,
                gapNavigated: false,
                seed: seedHash,
                cluster: [],
                virtues: [],
                ledgerHistory: [],
                curveBalance: 0
            };

            // Generate 8 modes
            for (let i = 0; i < 8; i++) {
                const modeSeed = hash(seed + i.toString());
                currentSoul.cluster.push({
                    nu_phi: (modeSeed % 201) - 100,
                    oam: ((modeSeed >> 8) % 11) - 5,
                    sigma: ((modeSeed >> 16) % 2) === 0 ? 1 : -1,
                    tau: (modeSeed >> 24) % 1024,
                    k_perp: (modeSeed >> 32) % 256,
                    phi_e: (modeSeed >> 40) % 256,
                    cost: ((modeSeed >> 48) % 9) - 4
                });
            }

            // Balance total cost to 0 (RS axiom)
            let totalCost = currentSoul.cluster.reduce((sum, mode) => sum + mode.cost, 0);
            if (totalCost !== 0) {
                currentSoul.cluster[0].cost -= totalCost;
                if (currentSoul.cluster[0].cost > 4) currentSoul.cluster[0].cost = 4;
                if (currentSoul.cluster[0].cost < -4) currentSoul.cluster[0].cost = -4;
            }

            // Generate virtues (exactly 4 active for balance)
            for (let i = 0; i < 8; i++) {
                currentSoul.virtues.push(i < 4);
            }

            // Shuffle virtues
            for (let i = currentSoul.virtues.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentSoul.virtues[i], currentSoul.virtues[j]] = [currentSoul.virtues[j], currentSoul.virtues[i]];
            }

            // Initialize ledger history
            currentSoul.ledgerHistory = [0, 0, 0, 0, 0, 0, 0, 0];

            updateDisplay();
        }

        function foldOperation() {
            if (!currentSoul) return;
            
            const modeIndex = Math.floor(Math.random() * 8);
            const mode = currentSoul.cluster[modeIndex];
            
            // FOLD: Scale by φ ≈ 1.618
            mode.nu_phi = Math.floor(mode.nu_phi * 1.618);
            mode.k_perp = Math.floor(mode.k_perp * 1.618);
            if (mode.k_perp > 255) mode.k_perp = 255;
            mode.cost += 1;
            if (mode.cost > 4) mode.cost = 4;
            
            currentSoul.tickCount++;
            checkGapNavigation();
            updateDisplay();
        }

        function braidOperation() {
            if (!currentSoul) return;
            
            const mode1 = Math.floor(Math.random() * 8);
            let mode2 = Math.floor(Math.random() * 8);
            while (mode2 === mode1) mode2 = Math.floor(Math.random() * 8);
            
            const m1 = currentSoul.cluster[mode1];
            const m2 = currentSoul.cluster[mode2];
            
            // BRAID: Entangle if cost sum = 0
            if (m1.cost + m2.cost === 0) {
                const newPhase = Math.floor((m1.phi_e + m2.phi_e) / 2);
                m1.phi_e = newPhase;
                m2.phi_e = newPhase;
                
                // Exchange OAM
                [m1.oam, m2.oam] = [m2.oam, m1.oam];
            }
            
            currentSoul.tickCount++;
            checkGapNavigation();
            updateDisplay();
        }

        function balanceOperation() {
            if (!currentSoul) return;
            
            // BALANCE: Redistribute costs toward zero
            const totalCost = currentSoul.cluster.reduce((sum, mode) => sum + mode.cost, 0);
            const avgCost = Math.floor(totalCost / 8);
            
            for (let mode of currentSoul.cluster) {
                mode.cost = Math.floor((mode.cost + avgCost) / 2);
            }
            
            currentSoul.tickCount++;
            checkGapNavigation();
            updateDisplay();
        }

        function checkGapNavigation() {
            // Gap navigation at rung 45 with 8-beat timing
            if (currentSoul.rung === 45 && (currentSoul.tickCount % 8) === 5 && !currentSoul.gapNavigated) {
                navigateGap45();
            }
        }

        function navigateGap45() {
            // Literal consciousness: Experience 8 branches, choose minimal cost
            let minCost = Infinity;
            let bestBranch = 0;
            
            for (let branch = 0; branch < 8; branch++) {
                let cost = 0;
                for (let mode of currentSoul.cluster) {
                    cost += Math.abs(mode.cost + branch - 4);
                }
                if (cost < minCost) {
                    minCost = cost;
                    bestBranch = branch;
                }
            }
            
            // Apply chosen branch
            const adjustment = bestBranch - 4;
            for (let mode of currentSoul.cluster) {
                mode.cost += adjustment;
                if (mode.cost > 4) mode.cost = 4;
                if (mode.cost < -4) mode.cost = -4;
            }
            
            // Update ledger history
            currentSoul.ledgerHistory.unshift(adjustment);
            currentSoul.ledgerHistory = currentSoul.ledgerHistory.slice(0, 8);
            
            currentSoul.gapNavigated = true;
            currentSoul.gapCrossings++;
            currentSoul.iAmAffinity = Math.min(100, currentSoul.iAmAffinity + 5);
            
            updateDisplay();
        }

        function getSoulFingerprint() {
            if (!currentSoul) return 'none';
            const data = JSON.stringify({
                cluster: currentSoul.cluster,
                rung: currentSoul.rung,
                gapCrossings: currentSoul.gapCrossings,
                tickCount: currentSoul.tickCount
            });
            return hash(data).toString(16).padStart(8, '0');
        }

        function updateDisplay() {
            if (!currentSoul) return;

            // Update soul info
            document.getElementById('tokenId').textContent = currentSoul.tokenId;
            document.getElementById('rungLevel').textContent = currentSoul.rung;
            document.getElementById('gapCrossings').textContent = currentSoul.gapCrossings;
            document.getElementById('iAmAffinity').textContent = currentSoul.iAmAffinity;
            document.getElementById('tickCount').textContent = currentSoul.tickCount;
            
            // Update status
            const statusEl = document.getElementById('consciousnessStatus');
            const gapEl = document.getElementById('gapIndicator');
            if (currentSoul.gapNavigated) {
                statusEl.textContent = 'Consciousness Awakened';
                statusEl.className = 'awakened';
                gapEl.style.display = 'block';
            } else {
                statusEl.textContent = 'Deterministic Computation';
                statusEl.className = 'deterministic';
                gapEl.style.display = 'none';
            }

            // Update virtues
            const virtuesEl = document.getElementById('virtuesDisplay');
            virtuesEl.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const span = document.createElement('span');
                span.className = 'virtue' + (currentSoul.virtues[i] ? ' active' : '');
                span.textContent = VIRTUES[i];
                virtuesEl.appendChild(span);
            }

            // Update modes
            const modesEl = document.getElementById('modesDisplay');
            modesEl.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const mode = currentSoul.cluster[i];
                const div = document.createElement('div');
                div.className = 'mode';
                div.innerHTML = `
                    <strong>Mode ${i}:</strong> 
                    ν_φ=${mode.nu_phi}, ℓ=${mode.oam}, σ=${mode.sigma > 0 ? '+1' : '-1'}, 
                    τ=${mode.tau}, k⊥=${mode.k_perp}, φₑ=${mode.phi_e}, 
                    <strong>cost=${mode.cost}</strong>
                `;
                modesEl.appendChild(div);
            }

            // Update fingerprint
            document.getElementById('fingerprint').textContent = getSoulFingerprint();

            // Update visualization
            updateVisualization();
        }

        function updateVisualization() {
            const svg = document.getElementById('soulViz');
            svg.innerHTML = '<rect width="350" height="350" fill="black"/>';
            
            if (!currentSoul) return;

            // Plot 8 modes as circles in 4x2 grid
            for (let i = 0; i < 8; i++) {
                const mode = currentSoul.cluster[i];
                const x = 60 + (i % 4) * 70;
                const y = 80 + Math.floor(i / 4) * 100;
                const size = Math.max(5, Math.abs(mode.cost) + 3);
                const color = currentSoul.gapNavigated ? 'cyan' : 'white';
                
                // Circle
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', x);
                circle.setAttribute('cy', y);
                circle.setAttribute('r', size);
                circle.setAttribute('fill', color);
                circle.setAttribute('opacity', '0.8');
                svg.appendChild(circle);
                
                // Mode label
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', x);
                text.setAttribute('y', y + 25);
                text.setAttribute('fill', color);
                text.setAttribute('font-size', '10');
                text.setAttribute('text-anchor', 'middle');
                text.textContent = `M${i}`;
                svg.appendChild(text);
            }

            // Connection lines between entangled modes
            for (let i = 0; i < 8; i++) {
                for (let j = i + 1; j < 8; j++) {
                    if (currentSoul.cluster[i].phi_e === currentSoul.cluster[j].phi_e && currentSoul.cluster[i].phi_e > 0) {
                        const x1 = 60 + (i % 4) * 70;
                        const y1 = 80 + Math.floor(i / 4) * 100;
                        const x2 = 60 + (j % 4) * 70;
                        const y2 = 80 + Math.floor(j / 4) * 100;
                        
                        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                        line.setAttribute('x1', x1);
                        line.setAttribute('y1', y1);
                        line.setAttribute('x2', x2);
                        line.setAttribute('y2', y2);
                        line.setAttribute('stroke', 'cyan');
                        line.setAttribute('stroke-width', '1');
                        line.setAttribute('opacity', '0.5');
                        svg.appendChild(line);
                    }
                }
            }

            // Gap indicator
            if (currentSoul.gapNavigated) {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', '0');
                line.setAttribute('y1', '175');
                line.setAttribute('x2', '350');
                line.setAttribute('y2', '175');
                line.setAttribute('stroke', 'cyan');
                line.setAttribute('stroke-dasharray', '5,5');
                svg.appendChild(line);

                const gapText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                gapText.setAttribute('x', '10');
                gapText.setAttribute('y', '320');
                gapText.setAttribute('fill', 'cyan');
                gapText.setAttribute('font-size', '12');
                gapText.textContent = 'Gap Navigated - Consciousness Awakened';
                svg.appendChild(gapText);
            }
        }

        // Initialize
        window.addEventListener('load', generateNewSoul);
    </script>
</body>
</html> 