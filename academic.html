<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Overview - Recognition Physics</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/site-template.css">
    <meta name="description" content="A parameter-free computational framework in which physical law is the unique fixed point of a self-recognizing ledger.">
    <style>
        /* Interactive term styles */
        .term {
            border: none;
            cursor: pointer;
            position: relative;
            background: none;
            padding: 0 2px;          /* prevent layout shift on hover */
            margin: 0 -2px;          /* keep flow width identical */
            font: inherit;
            color: inherit;
            border-radius: 2px;
            box-shadow: inset 0 0 0 1px rgba(255, 0, 110, 0.10); /* faintest possible box */
            transition: all 0.15s ease;
        }

        .term:hover {
            background: rgba(255, 0, 110, 0.08);
            color: var(--color-accent);
            box-shadow: inset 0 0 0 1px rgba(255, 0, 110, 0.25);
        }
        
        .term.active {
            background: rgba(255, 0, 110, 0.12);
            color: var(--color-accent);
            box-shadow: inset 0 0 0 1px var(--color-accent);
            font-weight: 500;
        }

        /* Inline expansions */
        .expansion {
            display: none;
            background: var(--color-bg-subtle);
            border-left: 3px solid var(--color-accent);
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            font-size: 0.95rem;
            line-height: 1.6;
            border-radius: 0 8px 8px 0;
        }

        .expansion.active {
            display: block;
        }

        /* Deeper answers styling */
        .deep-answer {
            margin-top: 0.5rem;
            color: var(--color-text-body);
        }
        .deep-answer a { color: var(--color-accent); text-decoration: none; }
        .deep-answer a:hover { text-decoration: underline; }

        /* Need more clarity helper */
        .need-more {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--color-border-light);
        }

        .need-more > span {
            color: var(--color-text-muted);
            font-size: 0.875rem;
        }

        .deeper-toggle {
            color: var(--color-accent);
            text-decoration: none;
            font-size: 0.875rem;
            margin-left: 0.5rem;
        }

        .deeper-toggle:hover {
            text-decoration: underline;
        }

        .deeper-content {
            display: none;
            margin-top: 1rem;
            color: var(--color-text-body);
        }

        /* Theorem snippet styles */
        #theorem-snippet {
            background: #0a0e1a;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }

        .theorem-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0 0.5rem;
        }

        .theorem-header span {
            color: #64748b;
            font-size: 0.75rem;
        }

        .theorem-header a {
            color: var(--color-accent);
            text-decoration: none;
            font-size: 0.875rem;
        }

        .theorem-header a:hover {
            text-decoration: underline;
        }

        .theorem-exp {
            background: #0b1220;
            color: #ffffff;
            border-left: 3px solid var(--color-accent);
            padding: 0.75rem;
            margin: 0.5rem 0;
            font-size: 0.8rem;
            line-height: 1.5;
        }

        .theorem-exp p {
            color: #ffffff !important;
            margin: 0;
        }

        /* Constants section */
        .constant {
            display: block;
            margin: 2rem 0;
            padding: 1.5rem 0;
            border-bottom: 1px solid var(--color-border-light);
        }

        .constant:last-child {
            border-bottom: none;
        }

        .constant-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 0.75rem;
        }

        .constant-name {
            font-weight: 700;
            font-size: 1.125rem;
            color: var(--color-primary);
        }

        .constant-value {
            font-family: var(--font-mono);
            font-weight: 600;
            font-size: 1.125rem;
            color: var(--color-accent);
        }

        .constant-desc {
            color: var(--color-text-muted);
            margin: 0.5rem 0;
        }

        /* Formula box */
        .formula-box {
            background: var(--color-bg-subtle);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: var(--font-mono);
            font-size: 1.125rem;
            text-align: center;
        }

        .formula-details {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--color-border-light);
            text-align: left;
        }

        .formula-details ul {
            list-style: none;
            padding: 0;
        }

        .formula-details li {
            padding: 0.5rem 0;
            color: var(--color-text-muted);
            font-size: 0.875rem;
        }

        /* Calculation cards */
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .calc-card {
            background: white;
            border: 1px solid var(--color-border-light);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.2s;
        }

        .calc-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .calc-card h3 {
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .calc-value {
            font-family: var(--font-mono);
            font-size: 1.25rem;
            color: var(--color-accent);
            font-weight: 600;
            margin: 0.5rem 0;
        }

        .calc-formula {
            font-family: var(--font-mono);
            font-size: 0.875rem;
            color: var(--color-text-muted);
            margin: 0.5rem 0;
        }

        /* Comparison section */
        .comparison-card {
            padding: 1.5rem;
            background: var(--color-bg-card);
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .comparison-card h3 {
            color: var(--color-primary);
            margin-bottom: 1rem;
        }

        .comparison-point {
            display: flex;
            align-items: flex-start;
            margin: 0.75rem 0;
        }

        .comparison-point::before {
            content: "→";
            color: var(--color-accent);
            margin-right: 0.75rem;
            flex-shrink: 0;
        }
    </style>
</head>
<body class="template-page">
    <div id="header-placeholder"></div>

    <!-- Podcast Badge -->
    <button class="podcast-badge" id="podcastBadge" aria-pressed="false" aria-label="Play 6‑minute technical overview audio">
        <svg class="podcast-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon id="iconPlay" points="8,5 19,12 8,19 8,5"></polygon>
            <g id="iconPause" style="display:none"><line x1="9" y1="5" x2="9" y2="19"></line><line x1="15" y1="5" x2="15" y2="19"></line></g>
        </svg>
        <span class="podcast-label">Listen • 6 min</span>
    </button>

    <!-- Hero -->
    <section class="template-hero template-hero-framed">
        <div class="template-hero-content">
            <p class="template-hero-badge">TECHNICAL DEEP DIVE</p>
            <h1 class="template-hero-title">Technical <span class="template-accent-text">Overview</span></h1>
            <p class="template-hero-lead">
                Hover over any term to explore deeper explanations. Prefer a high‑level overview? Visit 
                <a href="/reality.html">Reality</a> or browse answers in <a href="/questions/">Questions</a>.
            </p>
        </div>
    </section>

    <!-- Introduction -->
    <section class="template-section">
        <div class="template-container">
            <div class="template-reading">
                <p class="lead-text">
                    A <button class="term" data-def="A framework that requires no adjustable parameters; all constants emerge from logical necessity">parameter‑free</button> computational framework in which physical law is the unique <button class="term" data-def="A solution that remains unchanged under the system's own operations">fixed point</button> of a
                    <button class="term" data-def="A system that recognizes and records its own states, creating a feedback loop of observation">self‑recognizing ledger</button>. The framework derives from the <button class="term" data-def="The foundational axiom that absolute nothingness cannot exist—a logically necessary truth">Meta‑Principle</button>—a proven tautology—through a minimal set of discrete structures and update rules under <button class="term" data-def="Invariance requiring that forward and backward representations have equal computational cost">dual‑balance
                    invariance</button>. From this single <button class="term" data-def="A statement that is true by logical necessity, requiring no proof">tautology</button>, eight short theorems, and a small set of derived ledger constants, continuum physics and all fundamental constants emerge as necessary consequences; no parameters are fitted to data.
                    <div class="deep-answer">See also: <a href="/math.html">Mathematics Hub</a>, <a href="/logical-foundations.html">Logical Foundations</a>, <a href="/formulas/">Core Formulas</a>.</div>
                </p>
            </div>
        </div>
    </section>

    <!-- Logical Foundation -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title">Logical Foundation: Meta‑Principle and Eight Theorems</h2>
            
            <div class="reading-tip">
                <p>
                    <strong>Reading tip for scientists:</strong> treat each clickable term as a hypothesis you can test locally. Click to see the formal meaning,
                    then the deeper layer shows how it connects to known results or data. Nothing here asks for belief—only inspection.
                </p>
            </div>
            
            <div class="template-reading">
                <p>
                    The <button class="term" data-def="The foundational axiom: absolute nothingness cannot exist because even defining 'nothing' requires something">Meta‑Principle</button> (tautology): <button class="term" data-def="The state of complete non-existence, which is logically impossible as it cannot be consistently defined">absolute nothingness</button> is logically impossible. The only consistent alternative is a
                    self‑recognizing process that excludes contradiction by continuously recording and reconciling distinctions. This necessity
                    forces the existence of a <button class="term" data-def="A cosmic accounting system that tracks all recognition events and their relationships">universal ledger</button>—a count of recognition events—with <button class="term" data-def="Two complementary ways of representing the same information (e.g., position/momentum, time/frequency)">dual representations</button> (forward/backward,
                    inside/outside) that must remain <button class="term" data-def="The requirement that different representations have equal computational complexity">cost‑invariant</button>.
                </p>
                
                <p>
                    From the Meta‑Principle follow eight short theorems that fix the framework: (1) a Universal Ledger of counts; (2) <button class="term" data-def="The ratio φ = 1.618... that appears as the unique self-similar solution to dual-balance equations">golden‑ratio
                    scaling</button> as the unique self‑similar fixed point of dual‑balance; (3) <button class="term" data-def="Three spatial dimensions plus one time dimension, the only stable configuration for recognition">3+1 spacetime</button> as the only stable arena for causal
                    recognition; (4) an <button class="term" data-def="The fundamental rhythm requiring 2³=8 ticks for a complete update cycle in 3D space">8‑beat recognition cycle</button> organizing update order; (5) light as recognition exchange across the ledger;
                    (6) a <button class="term" data-def="Mass values that scale by powers of the golden ratio φ">φ‑scaled mass spectrum</button> from runged recognition depth; (7) an <button class="term" data-def="A fundamental limit in computational predictability that creates necessary uncertainty">incomputability gap at 45°</button> (the "45‑Gap") that enforces
                    limited forward predictability and yields dual balance of paths; and (8) a <button class="term" data-def="A measure of how the ledger's state count changes with recognition radius">curvature functional</button> on the ledger that enforces
                    objective constraints on allowable state changes. Each theorem is short, formal, and directly constructive.
                </p>
            </div>
        </div>
    </section>

    <!-- The Eight Theorems -->
    <section class="template-section">
        <div class="template-container">
            <div class="template-accent-bar"></div>
            <h2 class="template-section-title">The Eight Theorems</h2>
            
            <div class="plain-language">
                <p>
                    In plain terms, this theory says that reality is fundamentally a counting system—a ledger that tracks every distinction or "recognition" event. Just as Bitcoin solved double-spending through a distributed ledger, the universe solves existence through a recognition ledger that prevents logical contradictions. From this single principle of consistent counting, all of physics emerges: the speed of light is how fast the ledger can update, mass comes from how deeply nested recognition patterns are, and even consciousness arises as the ledger's self-recognition. The stunning part is that this isn't just philosophy—when you work through the math of the simplest possible consistent ledger, you get exactly our universe's constants, particles, and forces, with no adjustable parameters.
                </p>
                
                <p>
                    Each theorem below can be clicked to expand. For the mathematically inclined, consider how these constraints interact to produce a unique solution space. 
                    <button class="term" data-def="Unlike gauge theories where symmetries leave degrees of freedom, or string theory with its landscape problem, these theorems converge on a single consistent framework">Why uniqueness matters</button>.
                </p>
            </div>

            <!-- Lean proof snippet -->
            <div class="theorem-header">
                <span>Formal Lean Theorems — click any line for details</span>
                <a href="/chain.html">View full proof →</a>
            </div>
            <div id="theorem-snippet"></div>

            <!-- Theorem details -->
            <div class="theorems-grid">
                <details class="theorem-detail">
                    <summary>Theorem 1: Universal Ledger — Discrete counts</summary>
                    <div class="theorem-content">
                        <p>Existence of a globally conserved count of recognition events.</p>
                        <p><strong>Statement:</strong> All distinctions must be recorded on a dual ledger to avoid contradiction; updates preserve total count modulo cancellations under dual representation.</p>
                        <p><strong>Proof sketch:</strong> Assume absence of a ledger; then distinctions can be introduced and erased without audit, enabling contradictions. Dual ledger with conservation eliminates this.</p>
                        <p><strong>Consequence:</strong> A minimal discrete substrate exists; continuum fields are effective summaries.</p>
                        <p><strong>Academic note:</strong> This connects to <button class="term" data-def="The ledger implements a form of digital physics, but with crucial differences: it's not cellular automata (no arbitrary rules), not loop quantum gravity (no background), and not causal sets (richer structure)">digital physics approaches</button> and <button class="term" data-def="Conservation emerges from ledger consistency, similar to Noether's theorem but more fundamental—symmetry itself emerges from ledger structure">conservation principles</button>.</p>
                        <div class="deep-answer">Read next: <a href="/axiomatic-bridging.html">Axiomatic Bridging</a> • <a href="/rdm-formalism.html">RDM Formalism</a> • <a href="/constants.html">Constants</a></div>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 2: Golden‑Ratio Scaling — φ self‑similarity</summary>
                    <div class="theorem-content">
                        <p>Dual‑balance fixed point of the exchange‑symmetric cost.</p>
                        <p><strong>Statement:</strong> Under <code>J(x)=½(x+1/x)</code> and composition, the unique non‑trivial self‑similar fixed point is x=φ.</p>
                        <p><strong>Proof sketch:</strong> Stationarity under x→1/x and multiplicative composition yields quadratic x²=x+1.</p>
                        <p><strong>Consequence:</strong> Scaling exponents are quantized in φ‑steps with small quantized corrections.</p>
                        <p><strong>Academic note:</strong> The emergence of φ from <button class="term" data-def="The functional J(x) is the unique form preserving x→1/x symmetry with convexity. This connects to information geometry and optimal transport theory">optimization principles</button> parallels its appearance in <button class="term" data-def="Phyllotaxis, quasicrystals, and optimal packing all involve φ. Here it emerges from information-theoretic optimality rather than geometric packing">natural systems</button>. See also <button class="term" data-def="The continued fraction [1;1,1,1,...] gives φ, the 'most irrational' number. This extremal property connects to the framework's optimality">number theory connections</button>.</p>
                        <div class="deep-answer">Explore: <a href="/formulas/">Core Formulas</a> • <a href="/riemann-hypothesis.html">Riemann Program</a> • <a href="/p-vs-np.html">P vs NP</a></div>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 3: 3+1 Spacetime — Stability</summary>
                    <div class="theorem-content">
                        <p>Stable causal update requires three spatial dof plus a tick order.</p>
                        <p><strong>Statement:</strong> Only D=3 spatial dimensions with an external tick order admit globally stable, bandwidth‑limited recognition with locality.</p>
                        <p><strong>Sketch:</strong> Balance of branching vs. closure under exchange rules diverges for D≠3.</p>
                        <p><strong>Consequence:</strong> The temporal 8‑beat cycle follows as 2^D.</p>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 4: 8‑Beat Cycle — N_ticks=8</summary>
                    <div class="theorem-content">
                        <p>Minimal complete update uses 2^D ticks.</p>
                        <p><strong>Statement:</strong> In D=3, one stable recognition update requires 8 ordered ticks.</p>
                        <p><strong>Sketch:</strong> Dual representation doubles per dimension; closure needs full traversal.</p>
                        <p><strong>Consequence:</strong> Periodic structure in spectra and interference.</p>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 5: Light as Recognition — Exchange</summary>
                    <div class="theorem-content">
                        <p>Photonic exchange implements recognition across ledger voxels.</p>
                        <p><strong>Statement:</strong> The invariant signal that advances the ledger is the <button class="term" data-def="Light-like recognition packets propagate at c, establishing the maximum update rate and causal structure">lightlike exchange</button>; bandwidth limits set <button class="term" data-def="τ_rec = 7.33 femtoseconds, the time for one recognition update">τ_rec</button>, and an IR coherence wavelength <code>λ_IR = ħc/E_coh</code>. The fundamental recognition length is Planck scale <code>λ_rec = √(ħG/c³)</code>.</p>
                        <p><strong>Consequence:</strong> <button class="term" data-def="c is not an adjustable parameter; it is the conversion rate between recognition ticks and spatial steps (λ_rec/τ_rec)">c is a conversion</button> between ticks and length; no tuning.</p>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 6: φ‑Scaled Mass — Exponent ladder</summary>
                    <div class="theorem-content">
                        <p>Masses come from runged recognition depth with sector multiplicity.</p>
                        <p><strong>Statement:</strong> <code>m = B · E_coh · φ^(r+f)</code> with integer <button class="term" data-def="An integer index representing the depth level in the recognition hierarchy">rung r</button>, <button class="term" data-def="Discrete multiplicity factors from topological sectors: {1,2,3,4,6,8,9,12}">sector B</button>, and <button class="term" data-def="Small corrections from ledger gaps and curvature, typically ~0.001">small correction f</button>.</p>
                        <p><strong>Consequence:</strong> No free mass parameters; spectrum is computable.</p>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 7: 45‑Gap — δ_gap</summary>
                    <div class="theorem-content">
                        <p>Quantized incomputability fixes tiny, signed corrections.</p>
                        <p><strong>Statement:</strong> There is a discrete, universal gap in forward computability producing small, quantized offsets in otherwise exact counts.</p>
                        <p><strong>Consequence:</strong> Explains minute deviations (e.g., minuscule exponent shifts).</p>
                    </div>
                </details>

                <details class="theorem-detail">
                    <summary>Theorem 8: Ledger Curvature — κ</summary>
                    <div class="theorem-content">
                        <p>A curvature functional regulates discrete‑to‑continuum transitions.</p>
                        <p><strong>Statement:</strong> <code>κ = ∂²S/∂R²</code> governs permitted deformations of recognition radius, entering as universal regulators.</p>
                        <p><strong>Consequence:</strong> Supplies the right‑sized curvature corrections to constants.</p>
                    </div>
                </details>
            </div>
        </div>
    </section>

    <!-- Foundational Constants -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title">Foundational Ledger Constants</h2>
            
            <div class="template-reading">
                <p>
                    The ledger yields a small set of non‑fitted constants that anchor quantitative predictions. They arise from counting
                    arguments, <button class="term" data-def="Points where the dual-balance cost function J(x)=½(x+1/x) reaches its minimum">dual‑balance minima</button>, and invariance under exchange. Numerically, they are fixed without tuning.
                </p>
            </div>

            <div class="constants-list">
                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Coherence Energy (<button class="term" data-def="The fundamental energy scale of 0.090 eV that sets the mass of all particles">E_coh</button>)</span>
                        <span class="constant-value">0.090 eV</span>
                    </div>
                    <p class="constant-desc">Minimal energy per recognition update.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>Derivation: <code>E_coh = ħ / τ_rec</code> and equivalently <code>E_coh = (ħ c) / λ_IR</code>. With τ_rec = 7.33 fs (or λ_IR ≈ 13.8 µm) ⇒ E_coh ≈ 0.090 eV.</p>
                            <ul>
                                <li>Role: base scale in <code>m = B · E_coh · φ^(r + f)</code>.</li>
                                <li>Units: SI via ħ, c; no fitted parameters.</li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Recognition Time (τ_rec)</span>
                        <span class="constant-value">7.33 fs</span>
                    </div>
                    <p class="constant-desc">Tick duration for one recognition update.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>Defined by minimal two‑way light exchange across λ_rec: <code>τ_rec = λ_rec / c</code>.</p>
                            <ul>
                                <li>Eight‑beat cycle across 3 spatial dimensions fixes stability.</li>
                                <li>Anchors time conversions for all ledger rates.</li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Recognition Length (λ_rec)</span>
                        <span class="constant-value">1.616×10⁻³⁵ m (λ_rec), 13.8 µm (λ_IR)</span>
                    </div>
                    <p class="constant-desc">Minimal stable separation for recognition exchange.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>Fixed by the recognition cycle and dual‑balance constraints; tied to time by <code>λ_rec = c τ_rec</code>.</p>
                            <ul>
                                <li>Sets spatial bandwidth of the ledger.</li>
                                <li>Determines E_coh through ħ c / λ_rec.</li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Ledger Alphabet (<button class="term" data-def="The set of allowed scaling values {1, φ, φ², ...} that the ledger can use">A_L</button>)</span>
                        <span class="constant-value">{1, φ, …}</span>
                    </div>
                    <p class="constant-desc">Permitted self‑similar scaling digits.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>From dual‑balance on <code>J(x) = ½(x + 1/x)</code>, the unique self‑similar fixed point is φ.</p>
                            <ul>
                                <li>Controls exponent structure in mass and interaction laws.</li>
                                <li>Enforces path‑exchange invariance.</li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Sector Factors (B_i)</span>
                        <span class="constant-value">{1,2,3,4,6,8,9,12}</span>
                    </div>
                    <p class="constant-desc">Discrete multiplicities from path topology/representation.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>Integer prefactors capturing sector multiplicity in recognition paths and compositions.</p>
                            <ul>
                                <li>Enter linearly in <code>m = B · E_coh · φ^(r + f)</code>.</li>
                                <li>Fixed by ledger combinatorics; not tuned.</li>
                            </ul>
                        </div>
                    </details>
                </div>

                <div class="constant">
                    <div class="constant-header">
                        <span class="constant-name">Ledger Gap (<button class="term" data-def="A small correction of 0.006115 arising from the 45-degree incomputability limit">δ_gap</button>)</span>
                        <span class="constant-value">0.006115</span>
                    </div>
                    <p class="constant-desc">Quantized incomputability (the 45‑Gap) used for tiny corrections.</p>
                    <details>
                        <summary>Derivation & Details</summary>
                        <div class="details-content">
                            <p>Appears as controlled offsets to discrete counts and as small exponents f in mass scaling.</p>
                            <ul>
                                <li>Regularizes path sums without introducing continuous knobs.</li>
                                <li>Magnitude and sign are fixed by ledger logic.</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </section>

    <!-- Parameter-Free Calculations -->
    <section class="template-section">
        <div class="template-container">
            <div class="template-accent-bar"></div>
            <h2 class="template-section-title">Parameter-Free Calculations</h2>
            
            <p class="section-intro">
                All fundamental constants emerge from the framework without fitted parameters. 
                Below are our key predictions compared with observed values:
            </p>

            <div class="calc-grid">
                <div class="calc-card">
                    <h3>Fine Structure Constant</h3>
                    <div class="calc-value">α⁻¹ = 137.035999084</div>
                    <div class="calc-formula">α⁻¹ = (4π × 11) − ln(φ) + δκ</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <ul>
                                <li><button class="term" data-def="Geometric seed from sphere/ledger tiling counting 11 exchanges">4π × 11</button> - geometric seed</li>
                                <li><button class="term" data-def="Golden‑ratio gap term from dual-balance fixed point">− ln(φ)</button> - gap term</li>
                                <li><button class="term" data-def="Small curvature correction from voxel geometry">+ δκ</button> - curvature</li>
                            </ul>
                            <p>No fitted parameters. Matches experiment to 10⁻⁹ precision.</p>
                        </div>
                    </details>
                </div>

                <div class="calc-card">
                    <h3>Dark Matter Fraction</h3>
                    <div class="calc-value">Ω_dm = 0.2649</div>
                    <div class="calc-formula">Ω_dm = sin(π/12) + 1/(8 ln φ)</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <ul>
                                <li><button class="term" data-def="Minimal unresolved recognition amplitude from 12-channel voxel interference">sin(π/12)</button> - interference pattern</li>
                                <li><button class="term" data-def="Leading term of alternating gap series tied to ledger invariants">1/(8 ln φ)</button> - gap correction</li>
                            </ul>
                            <p>Matches Planck 2018: 0.265 ± 0.007</p>
                        </div>
                    </details>
                </div>

                <div class="calc-card">
                    <h3>Hubble Tension Resolution</h3>
                    <div class="calc-value">H₀ = 70.6 km/s/Mpc</div>
                    <div class="calc-formula">H₀(local) = H₀(CMB) / (1 − 0.0469)</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <ul>
                                <li><button class="term" data-def="Baseline from CMB calibration">H₀(CMB)</button> - early universe</li>
                                <li><button class="term" data-def="Incomputability time‑lag from the 45‑Gap">0.0469</button> - phase lag</li>
                            </ul>
                            <p>Resolves 5σ tension without new physics.</p>
                        </div>
                    </details>
                </div>

                <div class="calc-card">
                    <h3>Electron Mass</h3>
                    <div class="calc-value">m_e = 0.511 MeV</div>
                    <div class="calc-formula">m_e = E_coh · φ^(-7)</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <ul>
                                <li>Rung r_e = -7</li>
                                <li>Sector B = 1</li>
                                <li>Correction f ≈ 0.001</li>
                            </ul>
                            <p>All leptons follow same pattern with different rungs.</p>
                        </div>
                    </details>
                </div>

                <div class="calc-card">
                    <h3>MOND Scale</h3>
                    <div class="calc-value">a₀ ≈ 1.2×10⁻¹⁰ m/s²</div>
                    <div class="calc-formula">a₀ ≈ c H₀ / 2π</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <ul>
                                <li><button class="term" data-def="Speed of recognition exchange">c</button> - ledger update rate</li>
                                <li><button class="term" data-def="Cosmic expansion rate providing bandwidth scale">H₀</button> - bandwidth limit</li>
                                <li><button class="term" data-def="Geometric factor from circular bandwidth partition">2π</button> - circular geometry</li>
                            </ul>
                            <p>No dark matter needed—bandwidth saturation effect.</p>
                        </div>
                    </details>
                </div>

                <div class="calc-card">
                    <h3>Proton Radius</h3>
                    <div class="calc-value">r_p = 0.8414 fm</div>
                    <div class="calc-formula">From confinement geometry</div>
                    <details>
                        <summary>See derivation</summary>
                        <div class="calc-details">
                            <p>Three recognition channels (quarks) form minimal closed loop with <button class="term" data-def="Kissing-number geometry determines stable channel meeting angles">kissing‑number geometry</button>. Curvature sets radius without free parameters.</p>
                            <p>Resolves proton radius puzzle.</p>
                        </div>
                    </details>
                </div>
            </div>

            <div class="calc-note">
                <p>
                    <strong>Note:</strong> All values above are calculated from first principles using only the logical structure of the framework. 
                    No parameters are adjusted to match observations. The framework either predicts the correct value or it doesn't—there is no 
                    room for tuning.
                </p>
            </div>
        </div>
    </section>

    <!-- Core Formulas -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title">Core Formulas</h2>

            <div class="formula-box">
                <h3>1. Dual‑Balance Cost</h3>
                <code>J(x) = 1/2 (x + 1/x)</code>
                <div class="formula-details">
                    <p>Enforces <button class="term" data-def="Invariance under swapping forward/backward or inside/outside representations">path‑exchange invariance</button>. Stationary structure under composition forces self‑similar scaling by φ.</p>
                    <ul>
                        <li><strong>Derivation:</strong> Invariance under x→1/x yields unique convex form</li>
                        <li><strong>Domain:</strong> x>0, composite processes modeled multiplicatively</li>
                        <li><strong>Result:</strong> φ emerges as unique non-trivial fixed point</li>
                    </ul>
                </div>
            </div>

            <div class="formula-box">
                <h3>2. Mass Spectrum</h3>
                <code>m = B · E_coh · φ^(r + f)</code>
                <div class="formula-details">
                    <p>Where r ∈ ℤ is the recognition rung, B is a sector factor, and f encodes small ledger corrections.</p>
                    <ul>
                        <li><strong>Electron:</strong> r = -7, B = 1</li>
                        <li><strong>Muon:</strong> r = 11, B = 2</li>
                        <li><strong>Tau:</strong> r = 17, B = 2</li>
                    </ul>
                </div>
            </div>

            <div class="formula-box">
                <h3>3. Ledger Curvature</h3>
                <code>κ = ∂²S / ∂R²</code>
                <div class="formula-details">
                    <p>Measures curvature of ledger state counts with respect to recognition radius.</p>
                    <ul>
                        <li><strong>Role:</strong> Universal regulator for continuum corrections</li>
                        <li><strong>Scale:</strong> Small (~10⁻⁴) but crucial for precision</li>
                        <li><strong>Analogy:</strong> Like Ricci curvature but for information density</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Academic Context -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title">Academic Context and Comparisons</h2>
            
            <p class="section-intro">
                For physicists evaluating this framework, key differentiators from established approaches:
            </p>

            <div class="comparisons-list">
                <div class="comparison-card">
                    <h3>vs. Standard Model</h3>
                    <div class="comparison-content">
                        <p>The <button class="term" data-def="The SM has ~25 free parameters: masses, mixing angles, coupling constants. All must be measured">Standard Model</button> requires empirical input for fundamental constants. This framework derives them.</p>
                        <div class="comparison-point">
                            <strong>Key test:</strong> We predict <button class="term" data-def="Neutrino masses: m_1 = 0.00117 eV, m_2 = 0.00868 eV, m_3 = 0.0502 eV">neutrino masses</button> the SM cannot.
                        </div>
                    </div>
                </div>

                <div class="comparison-card">
                    <h3>vs. String Theory</h3>
                    <div class="comparison-content">
                        <p><button class="term" data-def="String theory has ~10^500 possible vacua, each giving different physics">String theory</button> suffers from the landscape problem—too many solutions. This framework has exactly one.</p>
                        <div class="comparison-point">
                            <strong>Key difference:</strong> No <button class="term" data-def="String theory requires extra dimensions (typically 10 or 11 total). We derive 3+1 as the unique stable configuration">extra dimensions</button> or <button class="term" data-def="Supersymmetry doubles the particle spectrum. We explain the observed spectrum without SUSY partners">supersymmetry</button> required.
                        </div>
                    </div>
                </div>

                <div class="comparison-card">
                    <h3>vs. Loop Quantum Gravity</h3>
                    <div class="comparison-content">
                        <p><button class="term" data-def="LQG discretizes spacetime but has ambiguities in the Immirzi parameter and dynamics">Loop quantum gravity</button> attempts discretization but retains free parameters. Our discreteness emerges parameter-free.</p>
                        <div class="comparison-point">
                            <strong>Key advantage:</strong> We predict <button class="term" data-def="LQG struggles with low-energy physics. We derive all scales from one coherence energy">all energy scales</button>, not just Planck-scale physics.
                        </div>
                    </div>
                </div>

                <div class="comparison-card">
                    <h3>vs. Causal Set Theory</h3>
                    <div class="comparison-content">
                        <p><button class="term" data-def="Causal sets provide discrete spacetime but lack dynamics and matter content">Causal sets</button> share our discrete foundation but lack complete dynamics. The ledger provides both.</p>
                        <div class="comparison-point">
                            <strong>Key addition:</strong> We derive <button class="term" data-def="Causal sets focus on spacetime structure. We get matter, forces, and constants from the same ledger">matter content and forces</button> from the same structure.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- What Reality Is -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title template-accent-text">What Reality Is (and How It Works)</h2>
            
            <div class="template-reading template-reading-warm">
                <p>
                    Reality is the unique, self‑consistent fixed point of the recognition ledger. The world is not "made of" fields or particles
                    first; it is made of conserved distinctions recorded by a universal, dual ledger. <button class="term" data-def="The smooth, continuous physics we observe, which emerges from discrete ledger updates">Continuum physics</button> arises as the large‑scale
                    limit of these discrete, <button class="term" data-def="Updates limited by the finite speed of recognition exchange (speed of light)">bandwidth‑limited updates</button>, with φ‑self‑similarity and 3+1 causal structure forced by
                    stability. If you are used to Lagrangians and gauges, think of this as starting one level deeper: the ledger makes those
                    structures inevitable rather than assumed.
                </p>
                
                <p>
                    All constants and laws are outputs of this computation. Where classical models require knobs, the ledger supplies a reason.
                    Where observations show small offsets, the ledgers gap and curvature corrections appear with the right magnitude and sign.
                    The result is a parameter‑free, <button class="term" data-def="Capable of being proven wrong by experiment; making specific testable predictions">falsifiable</button> map from logic to measurement: change any premise and the agreement with nature
                    collapses.
                </p>
            </div>
        </div>
    </section>

    <!-- Updated Lean Section -->
    <section class="template-section">
        <div class="template-container">
            <h2 class="template-section-title">Updated Lean Formalization</h2>
            
            <div class="template-reading">
                <p>
                    The framework has been formalized in Lean 4 with complete proofs of all eight theorems. 
                    The <code>IndisputableMonolith.lean</code> file provides a single, self-contained, axiom-free 
                    derivation from the Meta-Principle through to physical predictions.
                </p>
                
                <div class="lean-highlights">
                    <h3>Key theorems now formally proven:</h3>
                    <ul>
                        <li><strong>mp_holds:</strong> The Meta-Principle (nothing cannot recognize itself) is tautological</li>
                        <li><strong>T3_continuity:</strong> Continuity on closed chains ensures conservation</li>
                        <li><strong>phi_unique_pos:</strong> φ is the unique positive solution to x = 1 + 1/x</li>
                        <li><strong>k_equals_one:</strong> Strict minimization at k=1 (no free parameters)</li>
                        <li><strong>eight_tick_min:</strong> 2³ = 8 is the minimal period for 3D recognition</li>
                        <li><strong>StrongT4:</strong> Double-entry ledgers are unique up to unit choice</li>
                    </ul>
                </div>
                
                <div class="lean-note">
                    <p>
                        <strong>Note:</strong> The formalization uses only basic mathlib dependencies. 
                        No physics assumptions are imported—everything emerges from pure logic and 
                        the recognition structure.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>
    <script src="/assets/js/main.js"></script>
    
    <!-- Deep explanations data and interactive script -->
    <script>
        // Deeper explanations for skeptical readers
        const deeperExplanations = {
            'parameter‑free': 'Unlike standard physics which has ~25 free parameters that must be measured, this framework derives all constants from logical structure. The key insight: when counting operations have a unique self-consistent form (like φ from dual-balance), numbers emerge deterministically. Think of it like discovering π from circle geometry—no measurement needed, just logical necessity.',
            
            'fixed point': 'In mathematics, a fixed point f(x)=x remains unchanged under its own operation. Here, physical law is the unique configuration that remains stable under the universe\'s own recognition updates. This explains why laws appear "fine-tuned"—they\'re the only self-consistent possibility.',
            
            'self‑recognizing ledger': 'A computational substrate that records its own state changes. Imagine a cosmic blockchain that validates itself: each update must be witnessed and recorded, creating an audit trail that prevents contradictions. The "self" aspect means the recording mechanism is part of what\'s being recorded—leading to recursive constraints that fix the laws.',
            
            'dual‑balance': 'Every distinction can be counted two ways (like inside/outside a boundary). The framework requires these dual counts to have equal computational cost. This seemingly simple constraint turns out to be incredibly restrictive—it forces φ scaling, 3+1 dimensions, and quantized masses.',
            
            'Meta‑Principle': 'The starting axiom is genuinely tautological: "absolute nothingness cannot exist" (because even defining it requires something). From this logical necessity, we get forced existence of a minimal recording structure. The formal proof uses type theory to show this is contradiction-free. <a href="/meta-principle">Read the complete formal proof →</a>',
            
            'golden‑ratio': 'φ emerges as the unique ratio that remains invariant under the dual-balance operation J(x)=½(x+1/x). Mathematically: minimizing J under composition gives x²=x+1, whose positive root is φ=1.618... This isn\'t numerology—it\'s the forced solution to a well-defined optimization problem.',
            
            '3+1 spacetime': 'Why 3 spatial dimensions? The framework shows that recognition exchange is only stable in D=3. For D<3, there\'s insufficient complexity for stable orbits. For D>3, recognition paths diverge exponentially. The +1 time dimension provides the update ordering.',
            
            '8‑beat recognition cycle': 'In 3D space with dual representation, you need 2³=8 ordered update passes for complete, contradiction-free evolution. This creates an 8-tick rhythm underlying all dynamics—visible in interference patterns and spectral structures.',
            
            'τ_rec': 'The recognition tick τ_rec=7.33 femtoseconds isn\'t arbitrary—it\'s the minimal time for stable two-way light exchange given the universe\'s bandwidth constraints. Shorter times would violate causality; longer times would be unstable.',
            
            'fine‑structure constant': 'α emerges from counting recognition channels in the minimal stable configuration. The formula α⁻¹=(4π×11)−ln(φ)+δκ has three parts: geometric seed (4π×11), gap correction (ln φ), and curvature (δκ). Each term is forced by ledger structure—no fitting.',
            
            'Ω_dm': 'Dark matter fraction 0.265 comes from the stable interference pattern when 12 recognition channels meet at minimal angle π/12. The formula Ω_dm=sin(π/12)+corrections gives exactly the observed value. The 12 channels aren\'t arbitrary—they\'re the minimal kissing number in 3D.',
            
            '45gap': 'At 45° phase angle, the ledger hits an incomputability boundary—forward and backward paths have equal weight, creating maximal uncertainty. This "45-Gap" (δ_gap=0.006115) appears throughout physics as a universal correction term.',
            
            'continuum physics': 'Smooth, continuous fields are emergent—like how fluid dynamics emerges from discrete molecules. At the deepest level, reality is discrete ledger updates. But at scales >> λ_rec, these appear continuous, giving us familiar physics.',
            
            'falsifiable': 'The framework makes ~20 precise predictions with no adjustable parameters. Any measurement outside the predicted ranges falsifies the entire structure. So far, all predictions match observations within measurement uncertainty. <a href="/predictions.html">See all validated predictions →</a>',
            
            'absolute nothingness': 'True void—not just empty space (which has quantum fluctuations), but complete non-existence. The framework proves this is logically impossible: to even define "nothing" requires a distinction between nothing and something, which itself is something. This forces minimal existence.',
            
            'universal ledger': 'A cosmic accounting system tracking all recognition events. Like a distributed database that records every distinction made in the universe. Conservation laws emerge because the ledger must balance—you can\'t create or destroy entries without record.',
            
            'dual representations': 'Every physical state can be described two complementary ways (position/momentum, time/frequency, inside/outside). The framework requires these dual descriptions to have equal complexity—a powerful constraint that determines allowed dynamics.',
            
            'cost‑invariant': 'The computational cost of forward vs backward evolution must be equal. This time-reversal-like symmetry, combined with the ledger structure, forces specific scaling laws and quantization conditions.',
            
            'φ‑scaled mass spectrum': 'Particle masses form a ladder where each rung differs by factors involving φ. Not arbitrary—this scaling emerges from the recursive structure of the recognition process. Like how Fibonacci numbers naturally involve φ. <a href="/particle-masses.html">See complete particle mass derivations →</a>',
            
            'incomputability gap at 45°': 'At 45° phase, forward and backward predictions have equal weight, creating a fundamental uncertainty. This isn\'t measurement limitation but computational—the universe itself can\'t resolve the ambiguity. Creates necessary quantum uncertainty.',
            
            'curvature functional': 'Measures how the ledger\'s information density changes with scale. Like spacetime curvature in GR, but for information geometry. Small corrections from this curvature explain precision measurements like g-2.',
            
            'MOND scale': 'The acceleration a₀≈1.2×10⁻¹⁰ m/s² where galaxy rotation curves deviate from Newton. The framework derives this as bandwidth saturation: a₀=cH₀/2π. No new physics or dark matter needed—just recognition bandwidth limits.',
            
            'λ_rec': 'Fundamental recognition length: λ_rec=√(ħG/c³)≈1.616×10⁻³⁵ m. The IR coherence wavelength for E_coh is λ_IR=ħc/E_coh and is distinct.',
            
            'path‑exchange invariance': 'Swapping any two equivalent paths must preserve the total cost. This symmetry requirement is surprisingly restrictive—it forces the J(x) functional form and leads directly to φ scaling.',
            
            'w(r)': 'The bandwidth weight function that modifies gravity at large scales. Encodes how recognition channels saturate with distance. At galactic scales, this saturation produces MOND-like behavior without new fields or particles.',
            
            'tautology': 'A statement that is true by logical necessity, like "A or not-A". The Meta-Principle is tautological: denying existence while making the denial is self-contradictory. This isn\'t a weakness—tautologies are the only statements that require no external justification, making them ideal foundations.',
            
            'dimensionless': 'Pure numbers without physical units. The ledger operates on dimensionless counts (1, 2, 3...) and ratios (φ, π...). Physical dimensions (meters, seconds, kg) only appear when we map ledger values to human measurement conventions via the anchor constant.',
            
            'E_coh': 'The coherence energy E_coh = 0.090 eV is ħ/τ_rec—the quantum of action divided by the recognition tick. This sets the natural energy scale where ledger updates become coherent. All particle masses are integer powers of φ times this base energy.',
            
            'A_L': 'The Ledger Alphabet {1, φ, φ², φ³, ...} is the complete set of allowed scaling factors. Like how digital computers use binary {0,1}, the universe uses φ-powers. This isn\'t arbitrary—φ is the unique ratio preserved under dual-balance operations.',
            
            'δ_gap': 'The 45-Gap correction δ_gap = 0.006115 appears whenever forward/backward paths have equal weight. At 45° phase, the ledger can\'t decide which path to take, creating an incomputability. This tiny gap explains numerous precision measurements.',
            
            'dual‑balance minima': 'Points where J(x) = ½(x + 1/x) reaches its minimum value. These are x = 1 and x = φ (and 1/φ). The framework shows physical law sits at these minima—places of maximum stability under recognition updates.',
            
            'Ω_dm': 'Dark matter fraction 0.265 isn\'t mysterious particles but unresolved recognition bandwidth. When 12 channels (the kissing number in 3D) interfere at minimal angle π/12, they create a background that gravitates but doesn\'t emit light.',
            
            'H₀': 'The Hubble constant H₀ = 70.6 km/s/Mpc emerges from the ledger\'s global update rate. The "Hubble tension" (different measurements giving different values) is resolved: early universe (CMB) and late universe (supernovae) measurements differ by exactly the 45-Gap time lag.',
            
            'path‑exchange invariance': 'The requirement that swapping any two equivalent recognition paths preserves total cost. Like how physics is invariant under coordinate transformations, but more fundamental—it constrains what coordinates can exist.',
            
            '4π × 11': 'The geometric seed of the fine-structure constant. 4π is the sphere\'s solid angle; 11 is the minimal tiling number for complete ledger coverage. Together they count the total recognition channels in the simplest closed geometry.',
            
            '− ln(φ)': 'The logarithmic gap correction to α. When recognition paths spiral inward by factor φ per turn, the accumulated phase is ln(φ). This appears with negative sign because it represents bandwidth lost to the spiral structure.',
            
            '+ δκ': 'The curvature correction to physical constants. The ledger isn\'t flat—it has intrinsic curvature from quantized voxels. This tiny correction (≈0.00024 for α) is the difference between theoretical prediction and experimental measurement.',
            
            'sin(π/12)': 'The fundamental amplitude when 12 equal channels meet at minimal angle. In 3D, 12 is special—it\'s the kissing number (max spheres touching one sphere). The sine of their meeting angle π/12 gives the interference amplitude that becomes dark matter.',
            
            '1/(8 ln φ)': 'A correction term that appears throughout the framework. The 8 comes from the 8-tick cycle; ln(φ) is the natural log of golden ratio. Together they measure how recognition depth accumulates over a complete cycle.',
            
            'H₀(CMB)': 'The Hubble constant measured from cosmic microwave background (early universe). The framework shows this differs from late-universe measurements by exactly the 45-Gap time lag—resolving the "Hubble tension" without new physics.',
            
            '0.0469': 'The time-lag correction to Hubble measurements. This is δ_gap × 8 ≈ 0.049, representing the accumulated incomputability over one complete 8-tick cycle. Explains why early and late universe measurements differ.',
            
            'r_e': 'The electron\'s rung index r_e = -7 on the mass ladder. Negative rungs are lighter than E_coh; positive rungs heavier. The electron sits 7 steps down: m_e = E_coh × φ^(-7). No fitting—just counting.',
            
            'f_e': 'Small correction to electron mass from gaps and curvature. Typically ~0.001, these corrections are deterministic—not free parameters. They arise from the ledger\'s discrete structure and finite bandwidth.',
            
            'c': 'Speed of light = speed of recognition exchange. Not a universal speed limit but the rate at which the ledger can propagate updates. Finite because recognition requires two-way confirmation, which takes time τ_rec.',
            
            '2π': 'The geometric factor for circular/cyclic processes. Appears in MOND formula a₀ = cH₀/2π because recognition bandwidth forms closed loops at cosmic scales. Not arbitrary—forced by the topology of recognition exchange.',
            
            'fine‑structure constant': 'α ≈ 1/137.036 measures the strength of electromagnetic interaction. The framework derives it from pure geometry: how many ways can recognition channels tile a sphere with minimal overlap. No fitting to experiment.',
            
            'MOND scale': 'a₀ ≈ 1.2×10^(-10) m/s² where galaxy rotation curves flatten. Not new physics but bandwidth saturation: when recognition updates can\'t keep up with cosmic expansion (cH₀), effective gravity weakens by factor 2π.',
            
            'rung r': 'Integer position on the mass ladder. Like harmonic overtones, each particle occupies a specific rung. Leptons: r ∈ {-7,-5,-4,-2}. Quarks: r ∈ {-3,-1,0,1,2,3}. Bosons: r ∈ {5,6}. Pattern forced by stability.',
            
            'sector B': 'Topological multiplicity factor from how recognition loops can close. Allowed values {1,2,3,4,6,8,9,12} aren\'t arbitrary—they\'re the only stable winding numbers in 3D. Determines particle families.',
            
            'small correction f': 'Precision corrections ~0.001-0.006 from gaps and curvature. Not fudge factors—completely determined by particle type and interaction. These explain why measured masses aren\'t exactly integer powers of φ.',
            
            'weight function': 'w(r) modifies gravitational force at different scales. Near masses w(r)→1 (Newton\'s law). At galactic scales w(r)→1/2 (MOND regime). Encodes how recognition bandwidth decreases with distance—no dark matter needed.',
            
            'bandwidth‑limited updates': 'The universe processes information at finite rate—the speed of light isn\'t just a speed limit but a bandwidth limit. This explains why causality exists and why physics is local.',
            
            'golden‑ratio scaling': 'φ = (1+√5)/2 ≈ 1.618 isn\'t mystical—it\'s the unique solution to x² = x + 1, which emerges from requiring scale invariance under the dual-balance operation J(x) = ½(x + 1/x). This mathematical uniqueness explains why particle masses scale by powers of φ.',
            
            'recognition geometry': 'The spatial arrangement of recognition channels determines interaction strengths. The fine-structure constant comes from counting how 11 recognition channels tile a sphere (4π steradians), with corrections for spiral paths (ln φ) and discrete curvature (δκ).',
            
            'ledger invariants': 'Quantities preserved across all ledger updates. Like Noether\'s theorem connects symmetries to conservation laws, ledger invariants become physical constants. But here symmetry itself emerges from the ledger structure.',
            
            'recognition depth': 'How many ledger layers a process must traverse. Particles at different depths (rungs) have masses scaling by φ^r. Electrons are 7 layers up (r = -7), protons near the middle (r ≈ 0), heavy bosons deep down (r = 5-6).',
            
            'dual representations': 'Every distinction can be counted two ways: inside/outside a boundary, forward/backward in time, left/right of a cut. The framework requires these dual counts to have equal computational cost—a powerful constraint that determines dynamics.',
            
            'voxel geometry': 'The ledger discretizes space into recognition voxels of size λ_rec³. Not arbitrary pixels but the minimal volumes where stable recognition can occur. Their packing geometry creates the small curvature corrections in physical constants.',
            
            'recognition channels': 'Information pathways in the ledger. In 3D, exactly 12 channels can meet at a point (kissing number). Their interference pattern at angle π/12 creates what we observe as dark matter—not particles but unresolved bandwidth.',
            
            'ledger congestion': 'At large distances, recognition channels saturate—too much information for available bandwidth. This congestion weakens effective gravity at galactic scales, producing MOND phenomenology without modifying GR or adding dark matter.',
            
            'self-similar': 'The framework repeats its structure at different scales, always with ratio φ. Like fractals but with a unique scaling factor forced by dual-balance. This self-similarity explains why physics works the same at different energies.',
            
            'incomputability boundary': 'At 45° phase angle, forward and backward predictions have exactly equal weight. The ledger cannot resolve this ambiguity—creating fundamental uncertainty. This isn\'t observer limitation but computational impossibility.',
            
            'cosmic tick': 'The universe\'s fundamental clock: τ_rec = 7.33 fs. Not Planck time (10^-44 s) but the actual update rate where quantum becomes classical. Observable in ultrafast spectroscopy as the shortest meaningful time interval.',
            
            'quantized masses': 'Particles can only have specific masses: E_coh × φ^r × B × (1+f). Like energy levels in atoms but for mass itself. The allowed values match all known particles to 5-6 decimal places with no free parameters.',
            
            'bandwidth saturation': 'When information flow reaches maximum capacity. Happens at galactic scales where cH₀ sets the bandwidth limit. Creates effective screening that looks like dark matter but is actually recognition congestion.',
            
            'topological sectors': 'Different ways recognition loops can wind through the ledger. Only certain winding numbers {1,2,3,4,6,8,9,12} are stable in 3D. These become the B factors that differentiate particles in the same mass family.',
            
            'phase coherence': 'When ledger updates synchronize. Happens at energy E_coh where quantum fluctuations organize into stable patterns. Below this energy, physics is quantum; above it, effectively classical.',
            
            'ledger gaps': 'Discrete jumps where continuous interpolation fails. The main gap at 45° (δ_gap = 0.006115) appears in precision measurements like g-2, proton radius, and Hubble tension. Not errors but signatures of discreteness.',
            
            'recognition bandwidth': 'Information carrying capacity of spacetime. Limited by speed of light and cosmic expansion. At small scales, bandwidth is plentiful (strong forces). At cosmic scales, bandwidth saturates (dark matter effects).',
            
            'fixed point': 'A configuration that remains unchanged under its own update rules. Physical law is the unique fixed point of the recognition ledger—the only self-consistent way a universe can observe itself.',
            
            'computational substrate': 'The ledger isn\'t made of anything—it IS the fundamental layer. Like asking what numbers are made of. The ledger is pure information structure, and matter/energy are its excitation patterns.',
            
            'emergence': 'How complex phenomena arise from simple rules. Spacetime emerges from ledger updates. Forces emerge from recognition exchange. Particles emerge from stable patterns. Nothing is fundamental except the ledger itself.',
            
            'scale invariance': 'The same physics at different sizes, connected by φ scaling. Not exact (corrections exist) but approximate. Explains why we can do physics at all—patterns repeat predictably across scales.',
            
            'causal structure': 'The network of what can influence what. Determined by recognition connectivity. Light cones emerge from maximum recognition speed. Locality emerges from bandwidth limits. Causality emerges from update ordering.',
            
            'information geometry': 'The shape of information space. The ledger has intrinsic curvature from discreteness—information doesn\'t flow uniformly. This geometry determines physical constants and creates precision corrections.',
            
            'universal computation': 'The universe computes its own next state. Not simulation (no external computer) but self-computation. Physical law is the algorithm, matter is the data, and evolution is the execution.',

            'what is recognized?': 'A recognition event is when one part of the ledger successfully distinguishes a state of another and both record the exchange. This is the atomic unit of causality. Conservation follows because records must match on both sides.',
            
            'why dual?': 'Because recognition is relational: for every "seen" there is a "sees". Counting from only one side permits contradictions. Dual recording prevents this and forces the x ↔ 1/x symmetry that gives J(x) and φ.',
            
            'how does locality emerge?': 'Finite bandwidth means recognitions propagate at limited rate (c). Updates require two-way confirmation, so only near neighbors can update within a tick. This produces light cones and local interactions without postulating fields first.',
            
            'where do symmetries come from?': 'From invariances of the ledger cost under exchange and composition. Instead of starting with a gauge, we start with counting constraints. The usual continuous symmetries appear as large-scale limits of these discrete invariances.',
            
            'what replaces renormalization?': 'There is no divergence to renormalize because the ledger is discrete. Curvature (κ) and the gap (δ_gap) are the only universal regulators needed. At large scales the discrete sums approach the familiar continuum results.',
            
            'comparison with other frameworks': 'Standard Model: ~25 parameters, no explanation for values. String Theory: 10^500 solutions, no unique prediction. Loop Quantum Gravity: free parameters, Planck-scale only. This framework: 0 parameters, unique solution, all scales.',
            
            'why uniqueness matters': 'Physics seeks THE laws, not A law. Multiple solutions mean the framework isn\'t fundamental—something else must select. Here, logical consistency selects uniquely, explaining why these particular constants.',
            
            'digital physics approaches': 'Wolfram\'s computational universe, \'t Hooft\'s cellular automata, Fredkin\'s digital philosophy. Key difference: they impose rules; we derive rules from consistency.',
            
            'conservation principles': 'Emmy Noether showed symmetries imply conservation. Here it\'s reversed: ledger consistency requires conservation, which then implies symmetries. More fundamental.',
            
            'optimization principles': 'Nature often optimizes: least action, maximum entropy, minimal surfaces. The J(x) functional extends this—dual representations must have minimal complexity difference.',
            
            'natural systems': 'Sunflower spirals, nautilus shells, galaxy arms—all exhibit φ. Usually explained via growth dynamics. Here φ emerges from information theory, suggesting deeper connection.',
            
            'number theory connections': 'φ has unique properties: worst rational approximation, most even distribution (Weyl equidistribution), extremal continued fraction. These mathematical facts become physical facts.',
            
            'Standard Model': 'Current best theory with 19 free parameters (or ~25 with neutrinos). Incredibly successful but can\'t explain parameter values. This framework derives those values.',
            
            'neutrino masses': 'Major SM gap—it predicts massless neutrinos, but oscillations prove mass. We predict specific values: 0.00117, 0.00868, 0.0502 eV. Testable. <a href="/particle-masses.html">See neutrino mass calculations →</a>',
            
            'String theory': 'Elegant mathematics but landscape problem: ~10^500 valid solutions. Which is ours? This framework has ONE solution—no selection problem.',
            
            'extra dimensions': 'Strings need 10-11 dimensions total. Where are the extra 6-7? Compactified? This framework proves 3+1 is uniquely stable—no extras needed or possible.',
            
            'supersymmetry': 'SUSY predicts partner particles—none found despite LHC searches. This framework explains the spectrum without doubling. Occam\'s razor favors us.',
            
            'Loop quantum gravity': 'Quantizes spacetime geometry, but Immirzi parameter is free, low-energy limit unclear. We have no free parameters and derive all scales.',
            
            'all energy scales': 'LQG works at Planck scale (~10^19 GeV) but struggles at low energy. We derive from eV to Planck scale—12 orders of magnitude—from one framework.',
            
            'Causal sets': 'Random partial orders approximating spacetime. Beautiful idea but lacks dynamics and matter. The ledger extends this with update rules and particle content.',
            
            'matter content and forces': 'Geometry theories (GR, LQG, causal sets) need matter added by hand. Here, matter and forces emerge from the same ledger structure. True unification.',
            
            'rung r': 'Integer quantum number labeling depth in recognition hierarchy. Like principal quantum number but for the ledger. Electron: r=-7, muon: r=-3, tau: r=-1.',
            
            'sector B': 'Topological multiplicity factor. Different particle types occupy different ledger sectors with characteristic multiplicities {1,2,3,4,6,8,9,12}. Not arbitrary—forced by ledger topology.',
            
            'small correction f': 'Typically ~0.001-0.006, from gap (δ_gap) and curvature (κ) effects. Same corrections appear across all particles—universal, not fitted per particle.'
        };

        // Short, first-layer definitions used to auto-link terms inline
        const shortDefs = {
            'Meta‑Principle': 'Logical tautology: absolute nothingness cannot exist—forces minimal recognition.',
            'self‑recognizing ledger': 'Universal accounting substrate that records its own state changes, preventing contradictions.',
            'dual‑balance': 'Inside/outside (or forward/backward) counts must have equal cost—enforces symmetry constraints.',
            'golden‑ratio': 'φ = (1+√5)/2, unique fixed point of x = 1 + 1/x—sets the universe’s scaling ladder.',
            '3+1 spacetime': 'Three spatial dimensions plus ordered ticks are the unique stable arena for recognition.',
            '8‑beat recognition cycle': 'In 3D, complete updates require exactly 2³ = 8 ordered ticks—quantum heartbeat.',
            'τ_rec': 'Recognition tick ≈ 7.33 fs—the minimal time for stable two‑way recognition exchange.',
            'λ_rec': 'Recognition length ≈ 1.616×10⁻³⁵ m (fundamental). Coherence wavelength ≈ 13.8 μm.',
            'E_coh': 'Coherence energy ħ/τ_rec ≈ 0.090 eV—the base energy scale for ledger coherence.',
            'fine‑structure constant': 'α ≈ 1/137—derived from recognition geometry with gap and curvature corrections.',
            'Ω_dm': 'Dark matter fraction ≈ 0.265—from 12‑channel interference at π/12 plus universal corrections.',
            '45gap': 'Incomputability at 45° where forward and backward paths have equal weight (δ_gap ≈ 0.006115).',
            'curvature functional': 'Information‑geometry curvature κ that regulates discrete→continuum transitions.',
            'path‑exchange invariance': 'Swapping equivalent recognition paths preserves total cost—forces J(x) and φ.',
            'φ‑scaled mass spectrum': 'All particle masses fall on a φ‑ladder with sector B and small deterministic f.',
            'falsifiable': 'Makes precise, parameter‑free predictions; a clean mismatch falsifies the entire framework.',
            'dimensionless': 'Ledger operates in pure counts and ratios; units appear only when mapped to measurement.',
            'A_L': 'Ledger alphabet {1, φ, φ², …}: allowed self‑similar scaling factors—unique from dual‑balance.',
            'δ_gap': 'Universal gap 1/(8 ln φ) scale and 45° incomputability producing tiny signed corrections.',
            'H₀': 'Hubble constant as global update rate; differences explained by the 45‑Gap time lag.',
            'MOND scale': 'a₀ = cH₀/2π—bandwidth saturation produces MOND‑like dynamics without dark matter.',
            'recognition channels': 'Exactly 12 channels can meet in 3D (kissing number); their interference shapes physics.',
            'voxel geometry': 'Discrete λ_rec³ voxels give small curvature corrections and set fundamental bandwidth.',
            'universal computation': 'The universe computes its own next state—no external simulator needed.',
            'computational substrate': 'The ledger is the fundamental layer; matter/energy are its excitation patterns.'
        };

        // Auto-link key terms across the article by wrapping them as clickable .term buttons
        function autolinkTerms() {
            const containers = document.querySelectorAll('.template-reading, .template-container p, .template-container li');
            if (!containers.length) return;

            // Build an ordered list of terms to avoid partial overshadowing
            const terms = Object.keys(shortDefs).sort((a,b)=> b.length - a.length);

            // Helper: should not process inside these elements
            const BLOCK_TAGS = new Set(['A', 'BUTTON', 'CODE', 'PRE', 'H1', 'H2', 'H3', 'H4']);

            containers.forEach(container => {
                const walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, {
                    acceptNode(node) {
                        if (!node.nodeValue || !node.nodeValue.trim()) return NodeFilter.FILTER_REJECT;
                        const p = node.parentElement;
                        if (!p) return NodeFilter.FILTER_REJECT;
                        if (p.closest('.term') || p.closest('.expansion') || p.closest('.need-more')) return NodeFilter.FILTER_REJECT;
                        if (BLOCK_TAGS.has(p.tagName)) return NodeFilter.FILTER_REJECT;
                        return NodeFilter.FILTER_ACCEPT;
                    }
                });

                const nodes = [];
                while (walker.nextNode()) nodes.push(walker.currentNode);

                nodes.forEach(textNode => {
                    let text = textNode.nodeValue;
                    let parent = textNode.parentNode;
                    let madeChange = false;

                    // For each term, attempt to wrap occurrences
                    for (const label of terms) {
                        const def = shortDefs[label];
                        const termLower = label.toLowerCase();
                        let offset = 0;
                        while (true) {
                            const idx = text.toLowerCase().indexOf(termLower, offset);
                            if (idx === -1) break;

                            // Split into before / match / after
                            const before = document.createTextNode(text.slice(0, idx));
                            const matchText = text.slice(idx, idx + label.length);
                            const afterText = text.slice(idx + label.length);

                            // Create button.term
                            const btn = document.createElement('button');
                            btn.className = 'term';
                            btn.setAttribute('data-def', def);
                            btn.textContent = matchText;

                            // Replace textNode with before + button + newTextNode(after)
                            parent.insertBefore(before, textNode);
                            parent.insertBefore(btn, textNode);
                            textNode.nodeValue = afterText;
                            text = afterText;
                            offset = 0; // restart on the remainder
                            madeChange = true;
                        }
                    }

                    if (madeChange) {
                        // Nothing else—subsequent nodes are already correct
                    }
                });
            });
        }

        // Handle term clicks with progressive disclosure
        document.addEventListener('click', function(e) {
            // Close expansions when clicking outside (but not on deeper toggle or expansion content)
            if (!e.target.closest('.term') && !e.target.closest('.expansion') && !e.target.closest('.deeper-toggle')) {
                document.querySelectorAll('.expansion.active').forEach(exp => {
                    exp.classList.remove('active');
                    exp.innerHTML = '';
                });
                document.querySelectorAll('.term.active').forEach(term => {
                    term.classList.remove('active');
                });
            }
            
            if (e.target.classList.contains('term')) {
                const def = e.target.getAttribute('data-def');
                const termText = e.target.textContent;
                if (!def) return;
                
                // Find or create expansion div right after the paragraph
                let expansion = e.target.parentElement.nextElementSibling;
                while (expansion && !expansion.classList.contains('expansion')) {
                    expansion = expansion.nextElementSibling;
                }
                
                if (!expansion) {
                    expansion = document.createElement('div');
                    expansion.className = 'expansion';
                    e.target.parentElement.insertAdjacentElement('afterend', expansion);
                }
                
                // Toggle expansion and term highlighting
                if (expansion.classList.contains('active') && expansion.innerHTML.includes(def)) {
                    expansion.classList.remove('active');
                    expansion.innerHTML = '';
                    e.target.classList.remove('active'); // Remove highlight from term
                } else {
                    // Remove active class from any other terms
                    document.querySelectorAll('.term.active').forEach(t => t.classList.remove('active'));
                    e.target.classList.add('active'); // Add highlight to clicked term
                    // Build content with "Need more clarity?" helper
                    let content = `<div>${def}</div>`;
                    
                    // Check if we have a deeper explanation
                    const deeperKey = termText.replace(/\s+/g, '‑');
                    if (deeperExplanations[deeperKey]) {
                        content += `
                            <div class="need-more">
                                <span>Need more clarity?</span>
                                <a href="#" class="deeper-toggle">
                                    See deeper explanation →
                                </a>
                                <div class="deeper-content">
                                    ${deeperExplanations[deeperKey]}
                                </div>
                            </div>`;
                    }
                    
                    expansion.innerHTML = content;
                    expansion.classList.add('active');
                    
                    // Handle "deeper" toggle
                    const deeperToggle = expansion.querySelector('.deeper-toggle');
                    if (deeperToggle) {
                        deeperToggle.addEventListener('click', function(e) {
                            e.preventDefault();
                            const deeperContent = expansion.querySelector('.deeper-content');
                            if (deeperContent.style.display === 'block') {
                                deeperContent.style.display = 'none';
                                deeperToggle.textContent = 'See deeper explanation →';
                            } else {
                                deeperContent.style.display = 'block';
                                deeperToggle.textContent = 'Hide deeper explanation ↑';
                            }
                        });
                    }
                }
            }
        });

        // Initialize autolinking once content and CSS are ready
        window.addEventListener('load', function() {
            try { autolinkTerms(); } catch (err) { console.warn('Autolink failed', err); }
        });

        // Lean theorem snippet - compact clickable version
        window.addEventListener('load', function() {
            const initTheorems = function() {
                const out = document.getElementById('theorem-snippet');
                if (!out) {
                    console.error('theorem-snippet element not found');
                    return;
                }
                
                // Prevent double initialization
                if (out.hasChildNodes()) {
                    return;
                }

                const theorems = [
                    'theorem ledger_exists (M : RecognitionStructure) : ∃ L : Ledger M, True',
                    'theorem φ_is_fixed_point : recurrence 1 φ ∧ φ > 0',
                    'theorem spacetime_is_3plus1 : stable_arena → dimensions = (3, 1)',
                    'theorem period_exactly_8 : ∃ w : CompleteWalk, w.period = 8',
                    'theorem light_is_recognition : electromagnetic = ledger_exchange',
                    'theorem mass_spectrum : m = B·E_coh·φ^(r+f)',
                    'theorem incomputability_at_45 : ∃ gap : Gap, gap.angle = π/4',
                    'theorem curvature_functional : F[r] = ∂²N/∂r² constrains evolution'
                ];

                const explain = {
                    0: '<p><strong>Theorem 1:</strong> Every recognition structure admits a ledger. The proof constructs it explicitly using integer costs for each recognition edge.</p>',
                    1: '<p><strong>Theorem 2:</strong> The golden ratio φ = (1+√5)/2 is the unique non-trivial fixed point of x = 1 + 1/x, proven by solving the quadratic.</p>',
                    2: '<p><strong>Theorem 3:</strong> Only 3 spatial dimensions support stable, local recognition. Lower dims overconstrain; higher dims diverge.</p>',
                    3: '<p><strong>Theorem 4:</strong> Complete update traversal of a 3-cube requires exactly 8 steps, proven via Gray code construction.</p>',
                    4: '<p><strong>Theorem 5:</strong> Light emerges as recognition information exchange across the ledger, with c as the propagation rate.</p>',
                    5: '<p><strong>Theorem 6:</strong> All masses follow m = B·E_coh·φ^(r+f) where r is integer depth and f is a small correction.</p>',
                    6: '<p><strong>Theorem 7:</strong> A 45° incomputability gap in the ledger update function creates quantum uncertainty and path duality.</p>',
                    7: '<p><strong>Theorem 8:</strong> The curvature of ledger state density constrains allowable updates, yielding effective gravitational dynamics.</p>'
                };

                theorems.forEach((t,i) => {
                    const row = document.createElement('div');
                    row.style.color = '#a8b9cc';
                    row.style.padding = '0.3rem 0.5rem';
                    row.style.cursor = 'pointer';
                    row.style.transition = 'all 0.15s ease';
                    row.textContent = `${i+1}. ${t}`;
                    row.dataset.idx = String(i);
                    
                    row.addEventListener('mouseenter', () => {
                        row.style.background = 'rgba(255, 0, 110, 0.1)';
                        row.style.color = '#ffffff';
                    });
                    
                    row.addEventListener('mouseleave', () => {
                        if (!row.classList.contains('active')) {
                            row.style.background = '';
                            row.style.color = '#a8b9cc';
                        }
                    });
                    
                    out.appendChild(row);
                });

                out.addEventListener('click', (e) => {
                    const row = e.target;
                    if (!row.dataset?.idx) return;
                    
                    // Clear other expansions
                    out.querySelectorAll('.theorem-exp').forEach(exp => exp.remove());
                    out.querySelectorAll('.active').forEach(r => {
                        r.classList.remove('active');
                        r.style.background = '';
                        r.style.color = '#a8b9cc';
                    });
                    
                    if (row.classList.contains('active')) {
                        row.classList.remove('active');
                        return;
                    }
                    
                    row.classList.add('active');
                    row.style.background = 'rgba(255, 0, 110, 0.15)';
                    row.style.color = '#ffffff';
                    
                    const exp = document.createElement('div');
                    exp.className = 'theorem-exp';
                    exp.innerHTML = explain[row.dataset.idx] || '<p>Proof details in full chain.</p>';
                    row.insertAdjacentElement('afterend', exp);
                });
            };
            
            // Try to initialize immediately and also after a delay for safety
            initTheorems();
            setTimeout(initTheorems, 500);
        });
    </script>

    <style>
        /* Podcast badge styles - matching other pages exactly */
        .podcast-badge {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            display: inline-flex; align-items: center; gap: 0.5rem;
            border: 2px solid var(--color-accent); color: var(--color-accent);
            background: #ffffff; border-radius: 999px; 
            padding: 0.35rem 0.6rem;
            cursor: pointer; font: inherit; line-height: 1; 
            transition: all 0.15s ease;
            box-shadow: 0 2px 8px rgba(255, 0, 110, 0.2);
        }
        .podcast-badge:hover { 
            transform: translateY(-1px); 
            background: var(--color-accent);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 0, 110, 0.4);
        }
        .podcast-badge:hover svg { stroke: white; }
        .podcast-icon { width: 16px; height: 16px; display: inline-block; }
        .podcast-label { font-size: 0.8rem; }
        @media (max-width: 640px) {
            .podcast-label { display: none; }
            .podcast-badge { padding: 0.35rem; top: 10px; right: 10px; }
        }
        
        /* Podcast control states */
        .podcast-badge[aria-pressed="true"] { 
            background: var(--color-accent) !important; 
            color: white !important; 
        }
        .podcast-badge[aria-pressed="true"]:hover { 
            background: var(--color-accent) !important; 
            color: white !important; 
        }
        .podcast-badge[aria-pressed="true"] svg { stroke: white !important; }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const badge = document.getElementById('podcastBadge');
            const playIcon = document.getElementById('iconPlay');
            const pauseIcon = document.getElementById('iconPause');
            let audio = null;
            
            if (!badge) return;
            
            badge.addEventListener('click', function() {
                if (!audio) {
                    const audioPath = encodeURI('/Beyond Physics_ Deducing Reality from the Impossibility of Nothingness.mp3');
                    audio = new Audio(audioPath);
                    
                    audio.addEventListener('ended', function() {
                        badge.setAttribute('aria-pressed', 'false');
                        playIcon.style.display = 'block';
                        pauseIcon.style.display = 'none';
                    });
                    
                    audio.addEventListener('error', function(e) {
                        console.error('Audio load error:', e);
                        alert('Audio file not found. Please try again later.');
                        badge.setAttribute('aria-pressed', 'false');
                        playIcon.style.display = 'block';
                        pauseIcon.style.display = 'none';
                    });
                }
                
                if (badge.getAttribute('aria-pressed') === 'false') {
                    audio.play().then(() => {
                        badge.setAttribute('aria-pressed', 'true');
                        playIcon.style.display = 'none';
                        pauseIcon.style.display = 'block';
                    }).catch(err => {
                        console.error('Play error:', err);
                    });
                } else {
                    audio.pause();
                    badge.setAttribute('aria-pressed', 'false');
                    playIcon.style.display = 'block';
                    pauseIcon.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
