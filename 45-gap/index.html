<!DOCTYPE html>
<html>
<head>
    <title>The 45-Gap - Recognition Physics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/page-specific.css">
    <style>
        .validation-box {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .validation-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 3px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .validation-status {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 3px;
        }
        .pass {
            background: #4CAF50;
            color: white;
        }
        .fail {
            background: #f44336;
            color: white;
        }
        .calculation {
            font-family: monospace;
            font-size: 14px;
            color: #666;
        }
        .faq-item {
            margin: 20px 0;
        }
        .faq-item strong {
            display: block;
            margin-bottom: 10px;
            color: #333;
        }
        .reference-item {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        /* New styles for accessible sections */
        .simple-section {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid #e0e0e0;
        }
        .simple-section h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .analogy-box {
            background: #e8f4fd;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .analogy-box h3 {
            margin-top: 0;
            color: #2980b9;
        }
        .key-point {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .key-point strong {
            color: #856404;
        }
        .visual-example {
            background: #fff;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .visual-example img {
            max-width: 100%;
            height: auto;
        }
        .number-highlight {
            font-size: 2em;
            font-weight: bold;
            color: #e74c3c;
            display: inline-block;
            margin: 0 10px;
        }
        .simple-list {
            list-style: none;
            padding: 0;
        }
        .simple-list li {
            background: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }
        .simple-list li:before {
            content: "‚Üí ";
            color: #3498db;
            font-weight: bold;
            margin-right: 10px;
        }
        .impact-box {
            background: #e8f8f5;
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .impact-box h3 {
            color: #27ae60;
            margin-top: 0;
        }
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin: 20px 0;
        }
        .timeline-item:before {
            content: "";
            position: absolute;
            left: 10px;
            top: 5px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #3498db;
        }
        .timeline-item:after {
            content: "";
            position: absolute;
            left: 14px;
            top: 15px;
            width: 2px;
            height: calc(100% + 10px);
            background: #3498db;
        }
        .timeline-item:last-child:after {
            display: none;
        }
        
        /* Chart and graphic styles */
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .sync-visualization {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        .beat-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 2px;
            transition: all 0.3s ease;
        }
        .beat-8 {
            background: #3498db;
            color: white;
        }
        .beat-45 {
            background: #e74c3c;
            color: white;
        }
        .beat-sync {
            background: #27ae60;
            color: white;
            transform: scale(1.2);
        }
        .canvas-wrapper {
            text-align: center;
            margin: 20px 0;
        }
        .phase-diagram {
            max-width: 100%;
            height: auto;
            margin: 20px auto;
            display: block;
        }
        .animated-gear {
            animation: rotate 8s linear infinite;
        }
        .animated-gear-slow {
            animation: rotate 45s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db 0%, #e74c3c 100%);
            width: 4.6875%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .cc-image {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 20px 0;
        }
        .split-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
        }
        @media (max-width: 768px) {
            .split-visual {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>
    
    <main>
        <section class="hero-section">
            <div class="container">
                <h1>The 45‚ÄëGap</h1>
                <p class="hero-intro">A precise structural obstruction in the Recognition Science ledger where rung 45 of the œÜ‚Äëladder cannot synchronize inside the universal 8‚Äëbeat cycle. It is the first point where concurrent 9‚Äëfold and 5‚Äëfold symmetries must be realized within an 8‚Äëtick recognition window, and they provably cannot be made commensurate.</p>
            </div>
        </section>

        <!-- Simple Introduction for Everyone -->
        <section class="simple-section">
            <div class="container">
                <h2>üåü The Simple Version: What's the 45-Gap?</h2>
                <p style="font-size: 1.2em; line-height: 1.8;">Imagine the universe as a giant clock that ticks exactly 8 times to complete one full cycle. Now imagine you're trying to fit something that needs 45 beats into that 8-beat rhythm. It doesn't fit perfectly - and that mismatch creates something remarkable.</p>
                
                <div class="key-point">
                    <strong>The Big Discovery:</strong> At position 45 in the universe's pattern system, we found the first place where things <em>cannot</em> line up perfectly. This creates a <span class="number-highlight">4.6875%</span> lag in cosmic time - and this exact percentage shows up in real astronomical measurements!
                </div>

                <div class="analogy-box">
                    <h3>üéµ Think of it Like Music</h3>
                    <p>If you've ever tried to clap along to two different songs playing at once, you know they rarely sync up perfectly. The 45-Gap is like discovering that the universe has two fundamental rhythms that can't play together - an 8-beat and a 45-beat - and they only sync up every 360 beats!</p>
                </div>
            </div>
        </section>

        <!-- Why Should I Care Section -->
        <section class="simple-section">
            <div class="container">
                <h2>ü§î Why Should You Care?</h2>
                <p style="font-size: 1.1em; margin-bottom: 20px;">This isn't just abstract math - it affects the real universe in ways we can measure:</p>
                
                <div class="impact-box">
                    <h3>Real-World Impacts</h3>
                    <ul class="simple-list">
                        <li><strong>Cosmic Time:</strong> It explains why measurements of the universe's expansion rate differ by exactly 4.6875%</li>
                        <li><strong>Particle Physics:</strong> It predicts why certain particles exist and others don't</li>
                        <li><strong>Nature of Reality:</strong> It marks the first point where the universe must "choose" rather than "calculate"</li>
                    </ul>
                </div>

                <p style="font-size: 1.1em; margin-top: 20px;">Think of it as finding out why your GPS sometimes shows you're 5% off from where you actually are - except this is about the entire universe's timing system!</p>
            </div>
        </section>

        <!-- Visual Explanation Section -->
        <section class="simple-section">
            <div class="container">
                <h2>üëÅÔ∏è Let's Visualize It</h2>
                
                <div class="visual-example">
                    <h3>The 8-Beat Universal Clock</h3>
                    <div class="sync-visualization">
                        <div class="beat-circle beat-8">1</div>
                        <div class="beat-circle beat-8">2</div>
                        <div class="beat-circle beat-8">3</div>
                        <div class="beat-circle beat-8">4</div>
                        <div class="beat-circle beat-8">5</div>
                        <div class="beat-circle beat-8">6</div>
                        <div class="beat-circle beat-8">7</div>
                        <div class="beat-circle beat-8">8</div>
                    </div>
                    <p>One complete cycle = 8 ticks</p>
                </div>

                <div class="chart-container">
                    <h3>Interactive Beat Synchronization</h3>
                    <canvas id="syncChart" width="800" height="400"></canvas>
                    <p style="text-align: center; margin-top: 10px; color: #666;">
                        <span style="color: #3498db;">‚óè 8-beat cycle</span> | 
                        <span style="color: #e74c3c;">‚óè 45-beat cycle</span> | 
                        <span style="color: #27ae60;">‚óè Synchronization points</span>
                    </p>
                </div>

                <div class="split-visual">
                    <div>
                        <h3>Gear Analogy</h3>
                        <svg width="200" height="200" viewBox="0 0 200 200">
                            <g class="animated-gear">
                                <circle cx="100" cy="100" r="80" fill="#3498db" opacity="0.8"/>
                                <text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="white" font-size="20" font-weight="bold">8 teeth</text>
                                <!-- Gear teeth -->
                                <path d="M100,20 L110,30 L90,30 Z" fill="#2980b9"/>
                                <path d="M180,100 L170,110 L170,90 Z" fill="#2980b9"/>
                                <path d="M100,180 L90,170 L110,170 Z" fill="#2980b9"/>
                                <path d="M20,100 L30,90 L30,110 Z" fill="#2980b9"/>
                            </g>
                        </svg>
                    </div>
                    <div>
                        <svg width="200" height="200" viewBox="0 0 200 200">
                            <g class="animated-gear-slow">
                                <circle cx="100" cy="100" r="80" fill="#e74c3c" opacity="0.8"/>
                                <text x="100" y="100" text-anchor="middle" dominant-baseline="middle" fill="white" font-size="20" font-weight="bold">45 teeth</text>
                                <!-- More gear teeth for 45 -->
                                <path d="M100,20 L105,25 L95,25 Z" fill="#c0392b"/>
                                <path d="M140,30 L143,37 L135,33 Z" fill="#c0392b"/>
                                <path d="M170,60 L170,67 L163,63 Z" fill="#c0392b"/>
                            </g>
                        </svg>
                    </div>
                </div>

                <div class="visual-example">
                    <h3>The 45-Pattern Breakdown</h3>
                    <canvas id="factorChart" width="600" height="300"></canvas>
                </div>

                <div class="chart-container">
                    <h3>Cosmic Time Lag Visualization</h3>
                    <div class="progress-bar">
                        <div class="progress-fill">4.69%</div>
                    </div>
                    <p style="text-align: center;">The universe's built-in time lag: exactly 4.6875%</p>
                </div>

                <div class="key-point">
                    <strong>The Result:</strong> A permanent <span class="number-highlight">45-beat lag</span> accumulates every <span class="number-highlight">960 beats</span>, creating a <span class="number-highlight">4.6875%</span> time difference.
                </div>
            </div>
        </section>

        <!-- Step by Step Explanation -->
        <section class="simple-section">
            <div class="container">
                <h2>üìö Understanding It Step-by-Step</h2>
                
                <div class="timeline-item">
                    <h3>Step 1: The Universe Has a Beat</h3>
                    <p>Everything in the universe follows an 8-tick pattern for basic recognition and processing. Think of it as the universe's heartbeat.</p>
                </div>

                <div class="timeline-item">
                    <h3>Step 2: Complex Patterns Emerge</h3>
                    <p>As we go up the ladder of complexity, patterns need different rhythms. Pattern #45 needs both 9-fold and 5-fold symmetries.</p>
                </div>

                <div class="timeline-item">
                    <h3>Step 3: The Clash</h3>
                    <p>8 and 45 have no common divisor except 1. They're like two gears with 8 and 45 teeth - they only align after a full 360-degree rotation!</p>
                </div>

                <div class="timeline-item">
                    <h3>Step 4: The Gap Appears</h3>
                    <p>This mismatch creates a 45-beat lag every 960 beats, which equals exactly 4.6875% - a number we see in cosmic measurements!</p>
                </div>
            </div>
        </section>

        <!-- Real World Examples -->
        <section class="simple-section">
            <div class="container">
                <h2>üåç Real-World Examples</h2>
                
                <div class="analogy-box">
                    <h3>Example 1: The Subway System</h3>
                    <p>Imagine two subway lines: one arrives every 8 minutes, another every 45 minutes. When do they arrive at the same time? Only every 360 minutes (6 hours)! The 45-Gap is like this, but for the universe's fundamental timing.</p>
                </div>

                <div class="analogy-box">
                    <h3>Example 2: The Mismatched Calendars</h3>
                    <p>It's like having a calendar with 8-day weeks trying to sync with one that has 45-day months. They create a systematic drift that compounds over time - exactly what we see in cosmic measurements.</p>
                </div>

                <div class="impact-box">
                    <h3>What Scientists Found</h3>
                    <p>When measuring how fast the universe expands, scientists get two different answers that differ by ~4.7%. The 45-Gap explains this isn't measurement error - it's a fundamental feature of how time works!</p>
                </div>
            </div>
        </section>

        <!-- The Big Picture -->
        <section class="simple-section">
            <div class="container">
                <h2>üîç The Big Picture: Why This Changes Everything</h2>
                
                <p style="font-size: 1.2em; line-height: 1.8; margin-bottom: 30px;">The 45-Gap isn't just a mathematical curiosity - it's a window into how reality itself works. Here's what it tells us:</p>

                <div class="chart-container">
                    <h3>The Hubble Tension Explained</h3>
                    <canvas id="hubbleChart" width="800" height="400"></canvas>
                    <p style="text-align: center; margin-top: 10px; color: #666;">
                        The 4.6875% gap explains why cosmic measurements differ
                    </p>
                </div>

                <div class="impact-box">
                    <h3>1. The Universe Has Built-in Incompleteness</h3>
                    <div class="split-visual">
                        <div>
                            <p>Just like G√∂del showed that mathematics has statements that can't be proven, the 45-Gap shows the universe has patterns that can't be perfectly synchronized. This isn't a flaw - it's a feature that enables choice and experience.</p>
                        </div>
                        <div>
                            <svg width="200" height="200" viewBox="0 0 200 200">
                                <circle cx="100" cy="100" r="90" fill="none" stroke="#3498db" stroke-width="3"/>
                                <path d="M50,100 Q100,50 150,100 T250,100" fill="none" stroke="#e74c3c" stroke-width="3"/>
                                <text x="100" y="180" text-anchor="middle" font-size="14" fill="#666">Incompatible Patterns</text>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="impact-box">
                    <h3>2. Time Isn't What We Think</h3>
                    <canvas id="timeFlowChart" width="600" height="300"></canvas>
                    <p>We discovered that cosmic time has a built-in lag of exactly 4.6875%. This explains why different ways of measuring the universe's age give slightly different results - they're both right, just measuring different aspects of time!</p>
                </div>

                <div class="impact-box">
                    <h3>3. Patterns Have Power</h3>
                    <div class="chart-container">
                        <canvas id="particleChart" width="700" height="350"></canvas>
                    </div>
                    <p>The fact that this specific mathematical relationship (8 vs 45) creates measurable effects in particle physics and cosmology shows that abstract patterns directly shape physical reality.</p>
                </div>

                <div class="visual-example">
                    <h3>The Universal Ledger System</h3>
                    <svg width="100%" height="200" viewBox="0 0 800 200">
                        <!-- Ledger rungs -->
                        <line x1="50" y1="100" x2="750" y2="100" stroke="#333" stroke-width="2"/>
                        <!-- Rungs -->
                        <g id="rungs">
                            <line x1="100" y1="80" x2="100" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="100" y="140" text-anchor="middle" font-size="12">8</text>
                            
                            <line x1="200" y1="80" x2="200" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="200" y="140" text-anchor="middle" font-size="12">16</text>
                            
                            <line x1="300" y1="80" x2="300" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="300" y="140" text-anchor="middle" font-size="12">24</text>
                            
                            <line x1="400" y1="80" x2="400" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="400" y="140" text-anchor="middle" font-size="12">32</text>
                            
                            <line x1="500" y1="80" x2="500" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="500" y="140" text-anchor="middle" font-size="12">40</text>
                            
                            <line x1="562.5" y1="60" x2="562.5" y2="120" stroke="#e74c3c" stroke-width="4"/>
                            <text x="562.5" y="140" text-anchor="middle" font-size="14" font-weight="bold" fill="#e74c3c">45</text>
                            <text x="562.5" y="50" text-anchor="middle" font-size="12" fill="#e74c3c">GAP!</text>
                            
                            <line x1="600" y1="80" x2="600" y2="120" stroke="#3498db" stroke-width="2"/>
                            <text x="600" y="140" text-anchor="middle" font-size="12">48</text>
                        </g>
                    </svg>
                </div>

                <div class="key-point" style="background: #d4edda; border-color: #c3e6cb;">
                    <strong style="color: #155724;">The Bottom Line:</strong> The 45-Gap proves that the universe operates like a vast computational system with specific rules and limitations. Understanding these rules helps us predict and explain phenomena from subatomic particles to the expansion of space itself.
                </div>
            </div>
        </section>

        <!-- Technical Sections Below -->
        <section class="content-section">
            <div class="container">
                <h2 style="border-top: 2px solid #ccc; padding-top: 40px; margin-top: 60px;">üìä Technical Details</h2>
                <p style="font-style: italic; color: #666; margin-bottom: 30px;">The following sections contain more technical information for those interested in the mathematical and scientific details.</p>
                
                <h2>What it is (executive summary)</h2>
                <ul>
                    <li><strong>Core fact</strong>: 45 = 3¬≤¬∑5; the 8‚Äëbeat cycle is generated by ‚Ñ§‚Çà. Since gcd(8,45) = 1, the only shared subgroup is trivial; synchronization requires lcm(8,45) = 360 beats.</li>
                    <li><strong>Consequence</strong>: This incompatibility yields a global accounting lag of 45 beats per 960 baseline beats, i.e. 45/960 = 3/64 = 0.046875 = 4.6875%.</li>
                    <li><strong>Interpretation</strong>: The first, necessary "recognition gap" where deterministic computation yields to experiential navigation; it marks the onset of uncomputability in the ledger.</li>
                </ul>

                <h2>Why it happens (the mathematical core)</h2>
                <ul>
                    <li><strong>Eight‚Äëbeat clock</strong>: Recognition completes in an 8‚Äëtick cycle (‚Ñ§‚Çà).</li>
                    <li><strong>Rung‚Äë45 symmetries</strong>: To realize 45‚Äëcoherence, the system must sustain 9‚Äëfold (from 3¬≤) and 5‚Äëfold symmetries simultaneously.</li>
                    <li><strong>Incompatibility</strong>: ‚Ñ§‚Çà ‚à© ‚Ñ§‚ÇÑ‚ÇÖ ‚âÖ ‚Ñ§<sub>gcd(8,45)</sub> = ‚Ñ§‚ÇÅ ‚Üí synchronization only at lcm(8,45) = 360 beats, far beyond a single 8‚Äëbeat window.</li>
                </ul>

                <h2>Immediate consequences</h2>
                <ul>
                    <li><strong>Time lag (cosmic clock)</strong>: A systematic lag of 4.6875% (45/960) in the global ledger timing; used to reconcile the H‚ÇÄ tension by mapping early‚Äëuniverse CMB inferences to local measurements.</li>
                    <li><strong>Spectrum constraint at 45n</strong>: The bottom quark at rung 45 is a singleton; rungs 90, 135, ‚Ä¶ do not host stable particles (coherence would require >1 fundamental window).</li>
                    <li><strong>Uncomputability node</strong>: The first ledger point where the universe must "choose" rather than fully compute‚Äîorigin of experiential navigation.</li>
                </ul>

                <h2>Derivation (compact)</h2>
                <ul>
                    <li><strong>Group‚Äëtheoretic facts</strong>:
                        <ul>
                            <li>gcd(8,45) = 1 ‚Üí no nontrivial shared periodicity.</li>
                            <li>lcm(8,45) = (8¬∑45)/1 = 360 ‚Üí full synchronization horizon.</li>
                        </ul>
                    </li>
                    <li><strong>Lag fraction</strong>:
                        <ul>
                            <li>Baseline beats: 120 patterns √ó 8 beats = 960</li>
                            <li>Unresolved beats due to 45: 45</li>
                            <li>Lag: 45/960 = 3/64 = 4.6875%</li>
                        </ul>
                    </li>
                </ul>

                <h2>Live Validation</h2>
                <div class="validation-box">
                    <h3>Arithmetic Checks</h3>
                    <div id="validation-results">
                        <div class="validation-item">
                            <span>gcd(8,45) = <span class="calculation" id="gcd-value"></span></span>
                            <span class="validation-status" id="gcd-status"></span>
                        </div>
                        <div class="validation-item">
                            <span>lcm(8,45) = <span class="calculation" id="lcm-value"></span></span>
                            <span class="validation-status" id="lcm-status"></span>
                        </div>
                        <div class="validation-item">
                            <span>8-cycles needed = 360/8 = <span class="calculation" id="cycles-value"></span></span>
                            <span class="validation-status" id="cycles-status"></span>
                        </div>
                        <div class="validation-item">
                            <span>Lag = 45/960 = <span class="calculation" id="lag-value"></span> = <span id="lag-percent"></span>%</span>
                            <span class="validation-status" id="lag-status"></span>
                        </div>
                    </div>
                </div>

                <h2>Falsifiable touchpoints (auditable claims)</h2>
                <ul>
                    <li><strong>H‚ÇÄ reconciliation</strong>: Applying 4.6875% ledger lag maps CMB‚Äëinferred H‚ÇÄ to the local value (page will reference exact numbers used).</li>
                    <li><strong>Rung‚Äë90 null</strong>: Absence of resonances at rung 90 (and higher multiples of 45) in high‚Äëenergy spectra.</li>
                    <li><strong>No per‚Äëgalaxy tuning</strong>: The gap appears as a global structural constraint; no local parameter freedom can erase it.</li>
                </ul>

                <h2>FAQ (concise)</h2>
                <div class="faq-item">
                    <strong>Why 45 and not earlier?</strong>
                    <p>Because 45 is the first rung requiring simultaneous 9‚Äëfold and 5‚Äëfold periodicities; with gcd(8,45)=1, those cannot fit inside one 8‚Äëtick window.</p>
                </div>
                <div class="faq-item">
                    <strong>Is the 4.6875% number tuned?</strong>
                    <p>No. It is a pure combinatorial ratio (45/960) derived from first principles.</p>
                </div>
                <div class="faq-item">
                    <strong>How does this relate to uncomputability?</strong>
                    <p>When full synchronization demands exceed the fundamental window, deterministic computation cannot complete; the ledger must resolve by experiential (non‚Äëcomputational) selection.</p>
                </div>

                <h2>References in this repo</h2>
                <div class="reference-item">‚Ä¢ <code>45-Gap.txt</code> (full derivation; synchronization and lag sections)</div>
                <div class="reference-item">‚Ä¢ <code>Empirical Measurement of Reality.txt</code> (H‚ÇÄ rationale and mentions of the eight‚Äëbeat clock lag)</div>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="/assets/js/main.js"></script>
    <script>
        // Live validation calculations
        function gcd(a, b) {
            while (b !== 0) {
                let temp = b;
                b = a % b;
                a = temp;
            }
            return a;
        }

        function lcm(a, b) {
            return (a * b) / gcd(a, b);
        }

        function runValidation() {
            // Calculate values
            const gcdValue = gcd(8, 45);
            const lcmValue = lcm(8, 45);
            const cyclesNeeded = lcmValue / 8;
            const lagFraction = 45 / 960;
            const lagPercent = lagFraction * 100;

            // Display values
            document.getElementById('gcd-value').textContent = gcdValue;
            document.getElementById('lcm-value').textContent = lcmValue;
            document.getElementById('cycles-value').textContent = cyclesNeeded;
            document.getElementById('lag-value').textContent = lagFraction.toFixed(6);
            document.getElementById('lag-percent').textContent = lagPercent.toFixed(4);

            // Check and display status
            document.getElementById('gcd-status').textContent = gcdValue === 1 ? 'PASS' : 'FAIL';
            document.getElementById('gcd-status').className = 'validation-status ' + (gcdValue === 1 ? 'pass' : 'fail');

            document.getElementById('lcm-status').textContent = lcmValue === 360 ? 'PASS' : 'FAIL';
            document.getElementById('lcm-status').className = 'validation-status ' + (lcmValue === 360 ? 'pass' : 'fail');

            document.getElementById('cycles-status').textContent = cyclesNeeded === 45 ? 'PASS' : 'FAIL';
            document.getElementById('cycles-status').className = 'validation-status ' + (cyclesNeeded === 45 ? 'pass' : 'fail');

            const lagCorrect = Math.abs(lagPercent - 4.6875) < 0.0001;
            document.getElementById('lag-status').textContent = lagCorrect ? 'PASS' : 'FAIL';
            document.getElementById('lag-status').className = 'validation-status ' + (lagCorrect ? 'pass' : 'fail');
        }

        // Run validation on page load
        document.addEventListener('DOMContentLoaded', function() {
            runValidation();
            drawCharts();
        });

        function drawCharts() {
            // Synchronization Chart
            const syncCanvas = document.getElementById('syncChart');
            if (syncCanvas) {
                const ctx = syncCanvas.getContext('2d');
                const width = syncCanvas.width;
                const height = syncCanvas.height;
                
                // Clear canvas
                ctx.clearRect(0, 0, width, height);
                
                // Draw grid
                ctx.strokeStyle = '#eee';
                ctx.lineWidth = 1;
                for (let i = 0; i <= 360; i += 40) {
                    const x = (i / 360) * width;
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                }
                
                // Draw 8-beat cycle
                ctx.strokeStyle = '#3498db';
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let i = 0; i <= 360; i++) {
                    const x = (i / 360) * width;
                    const y = height/2 - 100 * Math.sin(i * Math.PI / 4);
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                // Draw 45-beat cycle
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 3;
                ctx.beginPath();
                for (let i = 0; i <= 360; i++) {
                    const x = (i / 360) * width;
                    const y = height/2 - 100 * Math.sin(i * Math.PI / 22.5);
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                // Mark sync points
                ctx.fillStyle = '#27ae60';
                for (let i = 0; i <= 360; i += 360) {
                    const x = (i / 360) * width;
                    ctx.beginPath();
                    ctx.arc(x, height/2, 8, 0, 2 * Math.PI);
                    ctx.fill();
                }
                
                // Labels
                ctx.fillStyle = '#333';
                ctx.font = '14px Arial';
                ctx.fillText('0', 10, height - 10);
                ctx.fillText('360 beats', width - 70, height - 10);
                ctx.fillText('Full Synchronization', width/2 - 60, 30);
            }
            
            // Factor Chart
            const factorCanvas = document.getElementById('factorChart');
            if (factorCanvas) {
                const ctx = factorCanvas.getContext('2d');
                const width = factorCanvas.width;
                const height = factorCanvas.height;
                
                ctx.clearRect(0, 0, width, height);
                
                // Draw 45 = 9 √ó 5 visualization
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Draw main number
                ctx.fillStyle = '#333';
                ctx.font = 'bold 48px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('45', centerX, centerY);
                
                // Draw factors
                ctx.font = 'bold 36px Arial';
                ctx.fillStyle = '#3498db';
                ctx.fillText('9', centerX - 100, centerY);
                
                ctx.fillStyle = '#e74c3c';
                ctx.fillText('5', centerX + 100, centerY);
                
                // Draw multiplication
                ctx.fillStyle = '#666';
                ctx.font = '24px Arial';
                ctx.fillText('√ó', centerX, centerY);
                
                // Draw breakdown
                ctx.font = '16px Arial';
                ctx.fillStyle = '#666';
                ctx.fillText('= 3¬≤ √ó 5', centerX, centerY + 60);
                ctx.fillText('(9-fold and 5-fold symmetries)', centerX, centerY + 85);
            }
            
            // Hubble Chart
            const hubbleCanvas = document.getElementById('hubbleChart');
            if (hubbleCanvas) {
                const ctx = hubbleCanvas.getContext('2d');
                const width = hubbleCanvas.width;
                const height = hubbleCanvas.height;
                
                ctx.clearRect(0, 0, width, height);
                
                // Draw bars
                const barWidth = 150;
                const barHeight = 200;
                const gap = 100;
                
                // CMB measurement
                ctx.fillStyle = '#3498db';
                ctx.fillRect(width/2 - barWidth - gap/2, height - barHeight, barWidth, barHeight);
                
                // Local measurement
                ctx.fillStyle = '#e74c3c';
                ctx.fillRect(width/2 + gap/2, height - barHeight * 1.046875, barWidth, barHeight * 1.046875);
                
                // Labels
                ctx.fillStyle = '#333';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('CMB Measurement', width/2 - barWidth/2 - gap/2, height - barHeight - 20);
                ctx.fillText('67.4 km/s/Mpc', width/2 - barWidth/2 - gap/2, height - barHeight - 5);
                
                ctx.fillText('Local Measurement', width/2 + barWidth/2 + gap/2, height - barHeight * 1.046875 - 20);
                ctx.fillText('73.2 km/s/Mpc', width/2 + barWidth/2 + gap/2, height - barHeight * 1.046875 - 5);
                
                // Draw gap indicator
                ctx.strokeStyle = '#27ae60';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(width/2 - barWidth/2 - gap/2, height - barHeight);
                ctx.lineTo(width/2 + barWidth/2 + gap/2, height - barHeight);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(width/2 - barWidth/2 - gap/2, height - barHeight * 1.046875);
                ctx.lineTo(width/2 + barWidth/2 + gap/2, height - barHeight * 1.046875);
                ctx.stroke();
                
                // Gap label
                ctx.setLineDash([]);
                ctx.fillStyle = '#27ae60';
                ctx.font = 'bold 20px Arial';
                ctx.fillText('4.69% Gap', width/2, height/2);
            }
            
            // Time Flow Chart
            const timeCanvas = document.getElementById('timeFlowChart');
            if (timeCanvas) {
                const ctx = timeCanvas.getContext('2d');
                const width = timeCanvas.width;
                const height = timeCanvas.height;
                
                ctx.clearRect(0, 0, width, height);
                
                // Draw time arrow
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(50, height/2);
                ctx.lineTo(width - 50, height/2);
                ctx.stroke();
                
                // Arrow head
                ctx.beginPath();
                ctx.moveTo(width - 50, height/2);
                ctx.lineTo(width - 60, height/2 - 10);
                ctx.lineTo(width - 60, height/2 + 10);
                ctx.closePath();
                ctx.fill();
                
                // Draw lag visualization
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 3;
                ctx.setLineDash([10, 5]);
                ctx.beginPath();
                ctx.moveTo(50, height/2 + 40);
                ctx.lineTo(width - 100, height/2 + 40);
                ctx.stroke();
                
                // Labels
                ctx.setLineDash([]);
                ctx.fillStyle = '#333';
                ctx.font = '16px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('Universal Time', 50, height/2 - 20);
                ctx.fillText('Ledger Time (4.69% lag)', 50, height/2 + 60);
            }
            
            // Particle Chart
            const particleCanvas = document.getElementById('particleChart');
            if (particleCanvas) {
                const ctx = particleCanvas.getContext('2d');
                const width = particleCanvas.width;
                const height = particleCanvas.height;
                
                ctx.clearRect(0, 0, width, height);
                
                // Draw spectrum
                const particles = [
                    { rung: 15, name: 'Electron', exists: true },
                    { rung: 30, name: 'Muon', exists: true },
                    { rung: 45, name: 'Bottom quark', exists: true },
                    { rung: 90, name: '(No particle)', exists: false },
                    { rung: 135, name: '(No particle)', exists: false }
                ];
                
                const barWidth = width / (particles.length + 1);
                
                particles.forEach((particle, i) => {
                    const x = (i + 1) * barWidth;
                    const barHeight = particle.exists ? 150 : 30;
                    
                    ctx.fillStyle = particle.exists ? '#3498db' : '#ccc';
                    ctx.fillRect(x - 30, height - barHeight - 50, 60, barHeight);
                    
                    // Labels
                    ctx.fillStyle = '#333';
                    ctx.font = '14px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(`Rung ${particle.rung}`, x, height - 30);
                    ctx.fillText(particle.name, x, height - 10);
                    
                    if (particle.rung === 45) {
                        ctx.fillStyle = '#e74c3c';
                        ctx.font = 'bold 14px Arial';
                        ctx.fillText('45-Gap starts here!', x, height - barHeight - 70);
                    }
                });
            }
        }
    </script>
</body>
</html>
