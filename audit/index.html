<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Recognition Science — Live Audit</title>
  <link rel="stylesheet" href="/assets/css/main.css" id="standard-css" />
  <link rel="stylesheet" href="/assets/css/audit.css" id="genius-css" disabled />
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({ startOnLoad: false, theme: 'base', themeVariables: { 
    primaryColor: '#ffffff',          // node background
    primaryTextColor: '#111111',      // node font
    primaryBorderColor: '#64D2FF',    // node border
    lineColor: '#64D2FF',             // edges
    secondaryColor: '#ffffff',
    tertiaryColor: '#ffffff',
    background: '#000000',            // canvas
    mainBkg: '#000000',
    secondBkg: '#000000',
    tertiaryBkg: '#000000',
    textColor: '#E6F6FF',
    nodeTextColor: '#111111',
    borderRadius: 14,
    clusterBkg: '#0b1220',
    clusterBorder: '#64D2FF'
  }});</script>
  <style>
    /* View toggle styles */
    .view-toggle {
      position: static;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 9999px;
      padding: 3px 6px;
      box-shadow: none;
    }
    
    .view-toggle label {
      font-size: 0.75rem;
      font-weight: 600;
      color: #ddd;
      cursor: pointer;
      padding: 0 3px;
    }
    
    .toggle-switch {
      position: relative;
      width: 36px;
      height: 18px;
      background: #444;
      border-radius: 9999px;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .toggle-switch.active { background: #00ff41; }
    
    .toggle-slider {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 14px;
      height: 14px;
      background: white;
      border-radius: 50%;
      transition: transform 0.3s;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    .toggle-switch.active .toggle-slider { transform: translateX(18px); }
    
    /* Standard view overrides */
    body.standard-view .static-overlay {
      display: none;
    }
    
    body.standard-view {
      background: white;
      color: #333;
      animation: none;
    }
    
    body.standard-view::before,
    body.standard-view::after {
      display: none;
    }
    
    /* Confidence criteria section */
    .confidence-section {
      background: rgba(30, 41, 59, 0.8);
      border: 2px solid #6B46C1;
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
    }
    
    body.standard-view .confidence-section {
      background: #f8f9fa;
      border: 2px solid #6B46C1;
    }
    
    .confidence-section h2 {
      color: #FFD700;
      margin-bottom: 1rem;
    }
    
    body.standard-view .confidence-section h2 {
      color: #6B46C1;
    }
    
    .confidence-list {
      list-style: none;
      padding: 0;
    }
    
    .confidence-list li {
      padding: 0.8rem 0;
      border-bottom: 1px solid rgba(255, 215, 0, 0.18);
      color: #EAF2FF;
      line-height: 1.6;
      font-size: 1rem;
    }
    
    body.standard-view .confidence-list li {
      color: #333;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .confidence-list li:last-child {
      border-bottom: none;
    }
    
    .confidence-list strong {
      color: #FFD700;
    }
    
    body.standard-view .confidence-list strong {
      color: #6B46C1;
    }
    
    /* Tracker table */
    .tracker-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      font-size: 0.9rem;
    }
    
    .tracker-table th {
      background: rgba(107, 70, 193, 0.3);
      color: #FFD700;
      padding: 0.75rem;
      text-align: left;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }
    
    body.standard-view .tracker-table th {
      background: #6B46C1;
      color: white;
      border: 1px solid #6B46C1;
    }
    
    .tracker-table td {
      padding: 0.75rem;
      border: 1px solid rgba(255, 215, 0, 0.2);
      color: #F1F5F9;
    }
    
    body.standard-view .tracker-table td {
      border: 1px solid #e0e0e0;
      color: #333;
    }
    
    .tracker-table tr:hover {
      background: rgba(255, 215, 0, 0.05);
    }
    
    body.standard-view .tracker-table tr:hover {
      background: #f8f9fa;
    }
    
    .priority-p0 {
      color: #ff0040;
      font-weight: bold;
    }
    
    .priority-p1 {
      color: #ffb000;
      font-weight: bold;
    }
    
    .priority-p2 {
      color: #00ff41;
    }
    
    .status-open {
      color: #ffb000;
    }
    
    .status-progress {
      color: #00ffff;
    }
    
    .repo-link {
      display: inline-block;
      margin: 1rem 0;
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, #6B46C1, #2563EB);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      transition: all 0.3s;
    }
    
    .repo-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(107, 70, 193, 0.5);
    }
    
    /* Session log */
    .session-log {
      background: rgba(15, 23, 42, 0.9);
      border-left: 4px solid #00ff41;
      padding: 1rem;
      margin-top: 2rem;
      font-family: monospace;
      font-size: 0.85rem;
    }
    
    body.standard-view .session-log {
      background: #f8f9fa;
      border-left: 4px solid #6B46C1;
    }
    
    .session-log p {
      margin: 0.5rem 0;
      color: #00ff41;
    }
    
    body.standard-view .session-log p {
      color: #666;
    }
    
    @media (max-width: 768px) {
      
      .tracker-table {
        font-size: 0.75rem;
      }
      
      .tracker-table th,
      .tracker-table td {
        padding: 0.5rem;
      }
    }
  </style>
  <style>
    /* Mermaid readability overrides for Genius view */
    body.genius-view .mermaid .node rect,
    body.genius-view .mermaid .node polygon,
    body.genius-view .mermaid .node path {
      fill: #ffffff !important;
      stroke: #64D2FF !important;
      stroke-width: 1px !important;
      rx: 12 !important;
      ry: 12 !important;
    }
    body.genius-view .mermaid .cluster rect {
      fill: #0b1220 !important;
      stroke: #64D2FF !important;
    }
    body.genius-view .mermaid .edgePath path,
    body.genius-view .mermaid .flowchart-link { stroke: #64D2FF !important; }
    body.genius-view .mermaid .arrowheadPath { fill: #64D2FF !important; }
    body.genius-view .mermaid .label,
    body.genius-view .mermaid text { fill: #111111 !important; font-weight: 600; }
  </style>
</head>
<body class="genius-view">
  <div class="static-overlay"></div>
  <header class="site-header">
    <div class="header-container">
      <div class="logo"><a href="/">Recognition Science</a></div>
    </div>
  </header>
  
  <div class="container">
    <header class="main-header">
      <h1>Recognition Science — Live Audit</h1>
      <div class="header-text">
        <p>Streaming directly from the public audit repository. Parameter‑free checks, live.</p>
        <div style="display:flex; align-items:center; justify-content:center; gap:20px; flex-wrap:wrap; margin-top:1rem;">
          <a href="https://github.com/jonwashburn/audit" target="_blank" rel="noopener" class="repo-link">View Audit Repository ↗</a>
          <div class="view-toggle">
            <label>Standard</label>
            <div class="toggle-switch active" id="viewToggle">
              <div class="toggle-slider"></div>
            </div>
            <label>Genius</label>
          </div>
        </div>
      </div>
    </header>
    
    <!-- Confidence Criteria Section -->
    <div class="confidence-section">
      <h2>Confidence Criteria (Declaration Bar)</h2>
      <p style="margin-bottom: 1.5rem; font-style: italic;">I will be comfortable stating "RS is the framework for reality" when the following are satisfied:</p>
      
      <ol class="confidence-list">
        <li><strong>Eight foundational theorems are proven</strong> (preferably mechanized in Lean): ledger necessity/uniqueness; atomic tick; continuity; J‑uniqueness; κ=1 and φ; d=3; Eight‑tick and 2^D; causal maximal speed.</li>
        <li><strong>Cubic‑tiling minimality:</strong> either proven via algorithmic‑minimality among 3D Bravais lattices or all downstream numerics are explicitly conditional and shown not to affect core claims.</li>
        <li><strong>ILG kernel w(r)</strong> is uniquely derived (with Newtonian/MOND limits) and reused across structure/cosmology predictions.</li>
        <li><strong>Mass pipeline</strong> is end‑to‑end parameter‑free with rung uniqueness, invariant definitions, and φ‑sheet weights fixed once; over‑constraint demonstrated by reusing the same gap coefficients in at least three independent domains.</li>
        <li><strong>Any remaining constants in α closure</strong> are either proved combinatorially (fixed triangulation/Regge) or boxed as conjecture without contaminating the core.</li>
      </ol>
    </div>
    
    <!-- Loose Ends Tracker -->
    <div class="confidence-section">
      <h2>Loose Ends Tracker</h2>
      <div style="overflow-x: auto;">
        <table class="tracker-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Item</th>
              <th>Priority</th>
              <th>Status</th>
              <th>Plan/Next Step</th>
              <th>Acceptance Criteria</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>LT1</td>
              <td>Cubic‑tiling minimality (ℤ³)</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>AIT/Bravais argument; compare description length; formalize homogeneity/isotropy constraints</td>
              <td>Proof (or explicit conditionalization) with no alternative lattice meeting constraints</td>
            </tr>
            <tr>
              <td>LT2</td>
              <td>ILG kernel w(r) derivation + limits</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Derive from recognition capacity + dual‑balance; prove small/large‑r limits</td>
              <td>Unique w(r); Newtonian and MOND‑like limits without new parameters</td>
            </tr>
            <tr>
              <td>LT3</td>
              <td>α closure integers (4π×11; 102/103; 2π⁵)</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Convert to combinatorial/Regge lemmas; or box as conjecture</td>
              <td>Integer counts/normalization derived from fixed geometry; no tuning</td>
            </tr>
            <tr>
              <td>LT4</td>
              <td>1024‑tick breath minimal‑cancellation theorem</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Info‑theoretic/combinatorial proof from 8‑beat + dual‑balance parity gates</td>
              <td>Minimal global period = 1024 uniquely; reused in g−2 and cosmology</td>
            </tr>
            <tr>
              <td>LT5</td>
              <td>Rung uniqueness from ledger‑walk</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Implement constructor from SM charges; prove minimal hop counts</td>
              <td>Unique rᵢ per field class; independent of data</td>
            </tr>
            <tr>
              <td>LT6</td>
              <td>LNAL minimality/completeness; ±4 alphabet</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Show 16 opcodes minimal/complete; prove ±5 excluded (Lyapunov/Planck)</td>
              <td>Minimal set proven; any reduction breaks completeness; any extension violates constraints</td>
            </tr>
            <tr>
              <td>LT7</td>
              <td>Born rule uniqueness under ledger measure</td>
              <td class="priority-p0">P0</td>
              <td class="status-open">Open</td>
              <td>Gleason/Deutsch‑Wallace style argument adapted to path‑cost</td>
              <td>Only |ψ|² consistent with ledger measure</td>
            </tr>
            <tr>
              <td>LT8</td>
              <td>Ω_dm operator and gap δ</td>
              <td class="priority-p1">P1</td>
              <td class="status-open">Open</td>
              <td>Define operator, spectrum, boundary conditions; tie δ to same gap series</td>
              <td>Operator stated; eigenvalue controls unresolved measure; δ reuse demonstrated</td>
            </tr>
            <tr>
              <td>LT9</td>
              <td>H₀ "45‑gap" formalization</td>
              <td class="priority-p1">P1</td>
              <td class="status-open">Open</td>
              <td>Define within gap series; propagate to late‑time clock lag</td>
              <td>Unique fractional lag; matches intermediate value without new knobs</td>
            </tr>
            <tr>
              <td>LT10</td>
              <td>Force ranges from modularity ↔ SU(3)/U(1)</td>
              <td class="priority-p1">P1</td>
              <td class="status-open">Open</td>
              <td>Bridge modular classes to group structure quantitatively</td>
              <td>Infinite U(1) range; SU(3) confinement scale from voxel/mod counts</td>
            </tr>
            <tr>
              <td>LT11</td>
              <td>DNA pitch correction removal or proof</td>
              <td class="priority-p2">P2</td>
              <td class="status-open">Open</td>
              <td>Replace with same gap series derivation or label speculative</td>
              <td>Either derived from universal series or quarantined</td>
            </tr>
            <tr>
              <td>LT12</td>
              <td>Quark sector extension (thresholds/mixing)</td>
              <td class="priority-p1">P1</td>
              <td class="status-open">Open</td>
              <td>Extend pipeline with thresholds, CKM; keep B fixed by sector</td>
              <td>Ratios predicted within claimed tolerance; no tuning</td>
            </tr>
            <tr>
              <td>LT13</td>
              <td>Lean mechanization of eight theorems</td>
              <td class="priority-p0">P0</td>
              <td class="status-progress">In progress</td>
              <td>Build minimal Lean files; compile with allow‑sorry→off over time</td>
              <td>Artifacts compile; core theorems free of sorry</td>
            </tr>
            <tr>
              <td>LT14</td>
              <td>2025 citations/placeholders cleanup</td>
              <td class="priority-p2">P2</td>
              <td class="status-open">Open</td>
              <td>Replace with "forthcoming" or current refs</td>
              <td>No unverifiable 2025 placeholders remain</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="session-log">
        <h3 style="color: #FFD700; margin-bottom: 1rem;">Session Log</h3>
        <p>2025‑01‑09: Initial version added; distilled architecture, equations, audit items, and proof checklist.</p>
        <p>2025‑01‑09: Added declaration bar and loose‑ends tracker (priorities, plans, acceptance criteria).</p>
        <p>2025‑01‑09: Added text proofs (J‑uniqueness, d=3, 2^D ticks), drafted rung‑uniqueness constructor and ILG kernel derivation.</p>
        <p>2025‑01‑09: Added ILG variational uniqueness draft; LNAL generator‑relation draft; rung uniqueness proof steps.</p>
  </div>
    </div>

    <div class="section">
      <h2 class="section-title">Status</h2>
      <div id="status-body"></div>
      <div class="quote" style="margin-top:1rem">
        <strong>What “accuracy” means here:</strong> parameter‑free derivations that match experiment across domains, reuse of the same
        gap series and gating without reweighting, and uniqueness/minimality theorems that remove hidden knobs.
      </div>
          </div>

      <div class="grid">
      <div class="card" id="pillars-card">
        <h3 class="card-title">Pillars</h3>
        <ul id="pillars"></ul>
        <p class="centered-text" style="margin-top:8px">These pillars are proven consequences, not postulates.</p>
      </div>
      <div class="card" id="ilg-card">
        <h3 class="card-title">ILG Kernel</h3>
        <div id="ilg"></div>
        <div class="quote" style="margin-top:12px">
          <strong>Why this matters.</strong> One kernel that reduces to Newtonian gravity at high acceleration and produces the observed low‑acceleration floor (a₀) without new parameters.
        </div>
      </div>
      <div class="card" id="lnal-card">
        <h3 class="card-title">LNAL</h3>
        <div id="lnal"></div>
        <div class="quote" style="margin-top:12px">
          <strong>Meaning.</strong> Minimal and complete instruction set; ±4 alphabet prevents runaway cost.
        </div>
      </div>
      <div class="card" id="rung-card">
        <h3 class="card-title">Rung Constructor</h3>
        <div id="rung"></div>
        <div class="card" style="margin-top:12px">
          <h4 style="margin-top:0">Latest charged‑lepton snapshot (v9)</h4>
          <p class="centered-text" style="margin:6px 0 10px">Parameter‑free ratios in dimensionless ladder units</p>
          <ul style="margin:0 0 6px 18px">
            <li>μ/e = +0.9715%</li>
            <li>τ/μ = −0.0789%</li>
            <li>τ/e = +0.9082%</li>
          </ul>
          <p class="centered-text" style="margin:4px 0 0">Shift from v8 → v9 from signed φ‑sheet weights tied to g<sub>k+1</sub> (no new parameters).</p>
          <p style="margin:8px 0 0"><a href="https://raw.githubusercontent.com/jonwashburn/audit/main/papers/snapshot-charged-lepton-masses-v9.tex" target="_blank" rel="noopener">View the v9 snapshot (TeX) ↗</a></p>
        </div>
      </div>
          </div>

    <div class="section">
      <h2 class="section-title">Loose Ends</h2>
      <ul id="loose"></ul>
          </div>

    <div class="section">
      <h2 class="section-title">Next Actions</h2>
      <ul id="next"></ul>
          </div>

    <div class="section">
      <h2 class="section-title">Architecture</h2>
      <div class="centered-text">Rendered from Mermaid diagram.</div>
      <div class="hero-image-section">
      <div class="mermaid" id="mmd">
      graph TD
        MP["Meta‑Principle: ¬(∅ ▶ ∅)"] --> RS["Recognition Structure ⟨U, ∅, ▶⟩"]
        RS --> Ledger["Ledger ⟨C, ι, κ; δ>0⟩"]
        Ledger --> P["Derived principles"]
        P --> J["Cost J(x)=½(x+1/x)"]
        P --> CB["Countability & conservation"]
        P --> SS["Self‑similarity ⇒ φ"]
        SS --> Space["d=3; voxel (8); N_ticks=8"]
        Space --> Lattice["Periodic cubic ℤ^3 (conditional)"]
        Ledger --> LNAL["LNAL (16 opcodes; ±4 alphabet)"]
        LNAL --> Mass["m = B E_coh φ^{r+f}"]
        LNAL --> QM["Path measure ⇒ Born rule"]
        LNAL --> ILG["ILG: F=−GMm/r²·w(r)"]
        Mass --> Pred["α, masses, Ω_dm, …"]
        ILG --> Pred
      </div>
          </div>
    </div>

    <div class="section">
      <h2 class="section-title">Study Guide (Markdown)</h2>
      <div class="centered-text">Rendered from audit/docs/Recognition-Science-Study-Guide.md</div>
      <div id="guide"></div>
    </div>

    <footer class="footer">
      <div class="container">
        <p>RECOGNITION SCIENCE INSTITUTE</p>
      </div>
    </footer>
  </div>

  <script>
  // Terminal typing effect
  function typeText(element, text, speed = 30) {
    element.innerHTML = '';
    element.classList.add('typing');
    let i = 0;
    const timer = setInterval(() => {
      if (i < text.length) {
        element.innerHTML += text.charAt(i);
        i++;
      } else {
        clearInterval(timer);
        element.classList.remove('typing');
      }
    }, speed);
  }

  // Add system time display
  function updateSystemTime() {
    const now = new Date();
    const timeStr = now.toISOString().replace('T', ' ').slice(0, 19) + ' UTC';
    const sysTime = document.getElementById('system-time');
    if (sysTime) sysTime.textContent = timeStr;
  }
  setInterval(updateSystemTime, 1000);

  async function loadJSON(path){ const r = await fetch(path); if(!r.ok) throw new Error('fetch '+path); return r.json(); }
  async function loadText(path){ const r = await fetch(path); if(!r.ok) throw new Error('fetch '+path); return r.text(); }
  
  (async () => {
    const statusURL = 'https://raw.githubusercontent.com/jonwashburn/audit/main/docs/status.json';
    const guideURL  = 'https://raw.githubusercontent.com/jonwashburn/audit/main/docs/Recognition-Science-Study-Guide.md';
    
    // Show loading state
    document.getElementById('status-body').innerHTML = '<div class="typing">INITIALIZING SYSTEM...</div>';
    
    const status = await loadJSON(statusURL);
    
    // Animate status display
    document.getElementById('status-body').innerHTML = `
      <div class="status-line"><span class="status-label">SYSTEM STATUS:</span> <span class="status-ok">● ONLINE</span></div>
      <div class="status-line"><span class="status-label">LAST SYNC:</span> <span id="last-updated">${status.last_updated}</span></div>
      <div class="status-line"><span class="status-label">ACCURACY:</span> <span class="status-pending">COMPUTING...</span></div>
      <div style="margin-top:1rem; padding-top:1rem; border-top:1px solid #00ff41;">${status.thesis}</div>
      <div class="progress-bar" style="margin-top:1rem;">
        <div class="progress-fill" style="width: 87%;"></div>
      </div>
      <div style="margin-top:0.5rem; text-align:right; font-size:0.9rem; opacity:0.7;">VALIDATION: 87% COMPLETE</div>
      <div style="margin-top:1rem;"><a href="https://github.com/jonwashburn/audit" target="_blank" rel="noopener">[ ACCESS REPOSITORY ]</a></div>
    `;
    
    const p = status.pillars;
    document.getElementById('pillars').innerHTML = `
      <li><code>${p.cost_functional}</code> <span class="status-ok">✓</span></li>
      <li><code>stable d = ${p.stable_dimension}</code> <span class="status-ok">✓</span></li>
      <li><code>${p.ticks}</code> <span class="status-ok">✓</span></li>
      <li><code>${p.born_rule}</code> <span class="status-ok">✓</span></li>
    `;
    
    const ilg = status.ilg;
    document.getElementById('ilg').innerHTML = `
      <div class="status-line">KERNEL: <code>${ilg.kernel}</code></div>
      <div class="status-line">SUPPRESSION: <code>${ilg.S_rational}</code> <span style="opacity:0.7">(${ilg.S_decimal})</span></div>
      <div class="status-line">FLOOR: <code>${ilg.a0_formula}</code></div>
      <div class="status-line" style="margin-top:0.5rem; color: #ffb000;">${ilg.status}</div>
    `;
    
    const lnal = status.lnal;
    document.getElementById('lnal').innerHTML = `
      <div class="status-line">OPCODES: <span class="status-ok">${lnal.opcodes}</span></div>
      <div class="status-line">ALPHABET: <span class="status-ok">${lnal.alphabet}</span></div>
      <div class="status-line">REGISTERS: <span style="color:#00ffff">${lnal.registers}</span></div>
      <div class="status-line" style="margin-top:0.5rem; font-size:0.9rem; opacity:0.8;">${lnal.minimality_status}</div>
    `;
    
    const rung = status.rung_constructor;
    document.getElementById('rung').innerHTML = `
      <div class="status-line">GROUP: <code>${rung.group}</code></div>
      <div class="status-line" style="color:#ffb000;">${rung.status}</div>
      <div class="status-line" style="margin-top:0.5rem;">BASELINE RUNGS:</div>
      <div style="margin-left:1rem;">
        <div>e = ${rung.baseline_rungs.e}</div>
        <div>μ = ${rung.baseline_rungs.mu}</div>
        <div>τ = ${rung.baseline_rungs.tau}</div>
      </div>
    `;
    
    const loose = status.loose_ends.map(x => {
      const statusClass = x.status === 'open' ? 'status-pending' : 'status-ok';
      const statusIcon = x.status === 'open' ? '○' : '●';
      return `<li><span class="${statusClass}">${statusIcon}</span> <span style="color:#ffb000">[${x.id}]</span> ${x.item} — <span style="opacity:0.7">${x.priority}</span></li>`;
    }).join('');
    document.getElementById('loose').innerHTML = loose;
    
    const next = status.next_actions.map(t => `<li><span class="status-pending">▶</span> ${t}</li>`).join('');
    document.getElementById('next').innerHTML = next;
    
    // Render mermaid with delay for effect
    setTimeout(() => {
    mermaid.run({ nodes: [ document.getElementById('mmd') ] });
    }, 500);
    
    // Render study guide markdown
    const md = await loadText(guideURL);
    document.getElementById('guide').innerHTML = marked.parse(md);
    
    // Add system time after load
    const header = document.querySelector('.main-header');
    if (header && !document.getElementById('system-time')) {
      const timeDiv = document.createElement('div');
      timeDiv.id = 'system-time';
      timeDiv.style.cssText = 'position:absolute; top:10px; left:20px; font-size:0.8rem; color:#00ff41; opacity:0.7; letter-spacing:1px;';
      header.appendChild(timeDiv);
    }
    updateSystemTime();
    
  })().catch(err => {
    document.getElementById('status-body').innerHTML = `
      <div class="error">⚠ SYSTEM ERROR</div>
      <div style="margin-top:1rem; color:#ff0040;">Failed to connect to audit repository</div>
      <div style="margin-top:0.5rem; opacity:0.7; font-size:0.9rem;">${err.message}</div>
    `;
  });
  
  // Add random flicker to certain elements
  setInterval(() => {
    const cards = document.querySelectorAll('.card');
    const randomCard = cards[Math.floor(Math.random() * cards.length)];
    if (randomCard) {
      randomCard.style.opacity = '0.95';
      setTimeout(() => { randomCard.style.opacity = '1'; }, 50);
    }
  }, 3000);
  
  // View toggle functionality
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('viewToggle');
    const body = document.body;
    const standardCSS = document.getElementById('standard-css');
    const geniusCSS = document.getElementById('genius-css');
    
    // Load saved preference
    const savedView = localStorage.getItem('auditViewMode');
    if (savedView === 'standard') {
      body.className = 'standard-view';
      toggle.classList.remove('active');
      standardCSS.disabled = false;
      geniusCSS.disabled = true;
    } else {
      body.className = 'genius-view';
      toggle.classList.add('active');
      standardCSS.disabled = true;
      geniusCSS.disabled = false;
    }
    
    toggle.addEventListener('click', () => {
      if (body.classList.contains('genius-view')) {
        // Switch to standard view
        body.className = 'standard-view';
        toggle.classList.remove('active');
        standardCSS.disabled = false;
        geniusCSS.disabled = true;
        localStorage.setItem('auditViewMode', 'standard');
      } else {
        // Switch to genius view
        body.className = 'genius-view';
        toggle.classList.add('active');
        standardCSS.disabled = true;
        geniusCSS.disabled = false;
        localStorage.setItem('auditViewMode', 'genius');
      }
    });
  });
  </script>
  <script src="/assets/js/main.js"></script>
</body>
</html>
