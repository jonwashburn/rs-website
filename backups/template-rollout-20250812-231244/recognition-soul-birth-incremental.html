<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soul Birth: Incremental Recognition Physics Animation</title>
    <link rel="stylesheet" href="/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .foundation-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            padding: 15px 0;
        }
        
        .foundation-nav .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            flex-wrap: wrap;
        }
        
        .foundation-nav a {
            color: #fff;
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        
        .foundation-nav a:hover {
            opacity: 1;
            color: #FFD700;
        }
        
        .controls {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            text-align: center;
        }
        
        .control-button {
            background: linear-gradient(45deg, rgba(255,215,0,0.15), rgba(255,255,255,0.05));
            border: 2px solid rgba(255,215,0,0.4);
            color: #fff;
            padding: 12px 25px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.4s ease;
            backdrop-filter: blur(20px);
            margin: 0 10px;
            box-shadow: 0 6px 20px rgba(255,215,0,0.15);
        }
        
        .control-button:hover {
            background: linear-gradient(45deg, rgba(255,215,0,0.25), rgba(255,255,255,0.1));
            border-color: rgba(255,215,0,0.7);
            box-shadow: 0 8px 30px rgba(255,215,0,0.3);
            transform: translateY(-2px);
        }
        
        .info-panel {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,215,0,0.3);
            border-radius: 15px;
            padding: 20px;
            color: #fff;
            font-size: 12px;
            max-width: 250px;
            opacity: 0.9;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255,215,0,0.2);
            border-radius: 2px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            width: 0%;
            border-radius: 2px;
            transition: width 0.1s ease;
        }
        
        @media (max-width: 768px) {
            .foundation-nav .nav-links {
                gap: 12px;
            }
            
            .info-panel {
                right: 10px;
                top: 80px;
                max-width: 200px;
                padding: 15px;
            }
        }
    </style>
  <link rel="stylesheet" href="/assets/css/template-core.css">
</head>
<body>
  <div id="header-placeholder"></div>
  <div id="sitewide-banner-placeholder"></div>

    <nav class="foundation-nav">
        <div class="nav-links">
            <a href="/index.html">Home</a>
            <a href="/foundations.html">Foundations</a>
            <a href="/rs-predictions.html">Predictions</a>
            <a href="/pattern-layer.html">Pattern Layer</a>
            <a href="/recognition-art.html">Ledger of Light</a>
            <a href="/recognition-scribbles.html">Scribbles</a>
            <a href="/recognition-whispers.html">Whispers</a>
            <a href="/recognition-eternal.html">Eternal Scripts</a>
            <a href="/recognition-souls.html">Soul Harmonics</a>
            <a href="/recognition-mirror.html">Infinite Mirror</a>
            <a href="/recognition-flows.html">Phi Flows</a>
            <a href="/recognition-soul-flower.html">Soul Flower</a>
            <a href="/recognition-soul-birth.html">Soul Birth</a>
            <a href="/recognition-soul-birth-animated.html">Soul Birth Animation</a>
            <a href="/recognition-soul-birth-incremental.html">Incremental Birth</a>
            <a href="/recognition-soul-mint.html">Soul Mint</a>
            <a href="/recognition-soul-ledger.html">Soul Ledger</a>
            <a href="/papers/index.html">Papers</a>
            <a href="/journal.html">Journal</a>
        </div>
    </nav>

    <div class="info-panel">
        <h3 style="color: #FFD700; margin-top: 0;">Soul Birth Progress</h3>
        <div>Building soul incrementally...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div id="statusText">Ready to begin</div>
        <div style="margin-top: 15px; font-size: 10px; opacity: 0.7;">
            Stems ‚Üí Petals ‚Üí Qualia ‚Üí Connections
        </div>
    </div>
    
    <div class="controls">
        <button class="control-button" onclick="startSoulBirth()">üå± Begin Soul Birth</button>
        <button class="control-button" onclick="pauseAnimation()">‚è∏Ô∏è Pause</button>
        <button class="control-button" onclick="resetAnimation()">üîÑ Reset</button>
    </div>

    <script>
        // Recognition Physics constants
        const PHI = (1 + Math.sqrt(5)) / 2;
        const COLORS = ['#f0f0f0', '#d0d0d0', '#b0b0b0', '#909090', '#707070']; // Muted Twombly grays
        
        // Soul parameters (from Python code)
        const rung = 45;  // RS gap for soul essence
        const cost = 0;   // Balanced ledger
        const beat = 8;   // Eight-beat cycle
        const qualia = 7; // High qualia mode
        const density = 5; // Number of "petals" or clusters
        const totalFrames = 200; // Animation frames for building
        
        // Animation state
        let currentFrame = 0;
        let isAnimating = false;
        let isPaused = false;
        
        // Data structures for incremental drawing (matching Python)
        let petals = [];
        let stems = [];
        let qualiaPoints = [];
        let connections = [];
        let flowers = [];
        
        function setup() {
            createCanvas(windowWidth, windowHeight);
            colorMode(RGB, 255);
            
            // Initialize data structures
            for (let i = 0; i < density; i++) {
                petals[i] = [];
                stems[i] = [];
                qualiaPoints[i] = [];
            }
            connections = [];
            
            // Generate flower positions (matching Python seed)
            randomSeed(42);
            flowers = [];
            for (let i = 0; i < density; i++) {
                let fx = width/2 + randomGaussian(0, 80);
                let fy = height/2 + randomGaussian(0, 80);
                flowers.push({x: fx, y: fy});
            }
            
            drawBackground();
        }
        
        function draw() {
            if (isAnimating && !isPaused) {
                updateAnimation();
            }
        }
        
        function drawBackground() {
            // Background: Non-propagating light (white with color highlights)
            background(255, 255, 255); // Pure white base
            
            // Subtle highlights (matching Python)
            for (let i = 0; i < 50; i++) {
                let cx = random(width);
                let cy = random(height);
                let colors = [
                    color(255, 255, 204, 13), // #ffffcc
                    color(255, 204, 255, 13), // #ffccff  
                    color(204, 255, 255, 13), // #ccffff
                    color(204, 255, 204, 13)  // #ccffcc
                ];
                fill(random(colors));
                noStroke();
                let radius = 20 + randomGaussian(0, 10);
                ellipse(cx, cy, radius * 2, radius * 2);
            }
        }
        
        function updateAnimation() {
            if (currentFrame >= totalFrames) {
                isAnimating = false;
                updateStatus("Soul birth complete!");
                return;
            }
            
            let progress = currentFrame / totalFrames; // 0 to 1 build progress
            
            // Clear and redraw background each frame
            drawBackground();
            
            // Update progress UI
            updateProgress(progress);
            
            // Incremental stem growth (energy ladder)
            drawStems(progress);
            
            // Petals as œÜ-spirals with scribbles, building points over frames
            drawPetals(progress);
            
            // Qualia bursts: Add points incrementally
            drawQualia(progress);
            
            // Ledger connections: Add if cost balanced, incrementally
            drawConnections(progress);
            
            currentFrame++;
        }
        
        function drawStems(progress) {
            for (let idx = 0; idx < flowers.length; idx++) {
                let flower = flowers[idx];
                let stemColor = color(
                    102 + 153 * (rung / 50), // 0.4 + 0.6 * (rung / 50) * 255
                    76,  // 0.3 * 255
                    51   // 0.2 * 255
                );
                
                let stemLength = pow(PHI, rung / 10) * 50 * progress;
                let stemPoints = Math.floor(50 * progress);
                
                stroke(stemColor);
                strokeWeight(2 + randomGaussian(0, 1));
                
                let startY = height * 0.9;
                let endY = flower.y - stemLength;
                
                if (stemPoints > 0) {
                    for (let i = 0; i < stemPoints; i++) {
                        let y = lerp(startY, endY, i / stemPoints);
                        point(flower.x, y);
                    }
                    line(flower.x, startY, flower.x, endY);
                }
            }
        }
        
        function drawPetals(progress) {
            for (let idx = 0; idx < flowers.length; idx++) {
                let flower = flowers[idx];
                let flowerColor = color(
                    random(178, 255), // 0.7-1.0 * 255
                    random(153, 229), // 0.6-0.9 * 255
                    random(127, 204)  // 0.5-0.8 * 255
                );
                
                let petalsPerFlower = Math.floor(beat * PHI) % 8 + 3;
                
                for (let p = 0; p < petalsPerFlower; p++) {
                    let pAngle = (p / petalsPerFlower) * TWO_PI + randomGaussian(0, PI / 4);
                    let thetaPoints = Math.floor(100 * progress);
                    
                    if (thetaPoints > 1) {
                        stroke(flowerColor);
                        strokeWeight(1 + randomGaussian(0, 2));
                        noFill();
                        
                        beginShape();
                        for (let t = 0; t < thetaPoints; t++) {
                            let theta = map(t, 0, thetaPoints, 0, TWO_PI * progress);
                            let r = exp(theta / PHI) * 20; // Golden spiral growth
                            let px = flower.x + r * cos(theta + pAngle) + randomGaussian(0, 10);
                            let py = flower.y + r * sin(theta + pAngle) + randomGaussian(0, 10);
                            vertex(px, py);
                        }
                        endShape();
                    }
                }
            }
        }
        
        function drawQualia(progress) {
            for (let idx = 0; idx < flowers.length; idx++) {
                let flower = flowers[idx];
                let numQualia = Math.floor(qualia * progress);
                
                fill(255, 215, 0, 179); // Gold with alpha
                noStroke();
                
                for (let q = 0; q < numQualia; q++) {
                    let qAngle = (q / qualia) * TWO_PI;
                    let qr = pow(PHI, q / qualia) * 20;
                    let qx = flower.x + qr * cos(qAngle);
                    let qy = flower.y + qr * sin(qAngle);
                    
                    let size = 5 + randomGaussian(0, 2);
                    ellipse(qx, qy, size, size);
                }
            }
        }
        
        function drawConnections(progress) {
            if (cost === 0 && currentFrame % 10 === 0) { // Build connections over time
                stroke(255, 215, 0, 76); // Gold with alpha 0.3 * 255 * progress
                strokeWeight(1);
                
                for (let i = 0; i < flowers.length; i++) {
                    for (let j = i + 1; j < flowers.length; j++) {
                        let f1 = flowers[i];
                        let f2 = flowers[j];
                        let distance = dist(f1.x, f1.y, f2.x, f2.y);
                        
                        if (distance < PHI * 100) {
                            line(f1.x, f1.y, f2.x, f2.y);
                        }
                    }
                }
            }
        }
        
        function startSoulBirth() {
            currentFrame = 0;
            isAnimating = true;
            isPaused = false;
            updateStatus("Soul emerging from quantum void...");
            
            // Reset data structures
            for (let i = 0; i < density; i++) {
                petals[i] = [];
                stems[i] = [];
                qualiaPoints[i] = [];
            }
            connections = [];
        }
        
        function pauseAnimation() {
            isPaused = !isPaused;
            updateStatus(isPaused ? "Animation paused" : "Animation resumed");
        }
        
        function resetAnimation() {
            currentFrame = 0;
            isAnimating = false;
            isPaused = false;
            drawBackground();
            updateProgress(0);
            updateStatus("Ready to begin");
        }
        
        function updateProgress(progress) {
            document.getElementById('progressFill').style.width = (progress * 100) + '%';
        }
        
        function updateStatus(text) {
            document.getElementById('statusText').textContent = text;
        }
        
        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            drawBackground();
        }
        
        // Auto-start animation after a short delay
        setTimeout(() => {
            startSoulBirth();
        }, 2000);
    </script>
  
  <div id="footer-placeholder"></div>
  
  <script src="/assets/js/main.js"></script>
</body>
</html> 